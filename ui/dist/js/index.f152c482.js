(function(t){function e(e){for(var i,l,o=e[0],c=e[1],r=e[2],u=0,m=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&m.push(s[l][0]),s[l]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,r||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,l=1;l<n.length;l++){var c=n[l];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={index:0},a=[];function l(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-2d0ae5a4":"8ca73e43"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=s[t]=[e,i]}));e.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=l(t);var r=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",r.name="ChunkLoadError",r.type=i,r.request=a,n[1](r)}s[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["youtubeStudioJsonp"]=window["youtubeStudioJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=r;a.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("a026"),s=n("9726"),a=n("1d30"),l=n("08df"),o=n("bc02"),c='/*! minireset.css v0.0.3 | MIT License | github.com/jgthms/minireset.css */\nhtml,\nbody,\np,\nol,\nul,\nli,\ndl,\ndt,\ndd,\nblockquote,\nfigure,\nfieldset,\nlegend,\ntextarea,\npre,\niframe,\nhr,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: 100%;\n  font-weight: normal;\n}\n\nul {\n  list-style: none;\n}\n\nbutton,\ninput,\nselect,\ntextarea {\n  margin: 0;\n}\n\nhtml {\n  box-sizing: border-box;\n}\n\n*, *::before, *::after {\n  box-sizing: inherit;\n}\n\nimg,\naudio,\nvideo {\n  height: auto;\n  max-width: 100%;\n}\n\niframe {\n  border: 0;\n}\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\ntd,\nth {\n  padding: 0;\n  text-align: left;\n}\n\n\nhtml {\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  min-width: 300px;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  text-rendering: optimizeLegibility;\n  -webkit-text-size-adjust: 100%;\n     -moz-text-size-adjust: 100%;\n      -ms-text-size-adjust: 100%;\n          text-size-adjust: 100%;\n}\n\narticle,\naside,\nfigure,\nfooter,\nheader,\nhgroup,\nsection {\n  display: block;\n}\n\ncode,\npre {\n  -moz-osx-font-smoothing: auto;\n  -webkit-font-smoothing: auto;\n  font-family: monospace;\n}\n\na {\n  cursor: pointer;\n  text-decoration: none;\n}\n\na strong {\n  color: currentColor;\n}\n\nhr {\n  background-color: whitesmoke;\n  border: none;\n  display: block;\n  height: 2px;\n  margin: 1.5rem 0;\n}\n\nimg {\n  height: auto;\n  max-width: 100%;\n}\n\ninput[type="checkbox"],\ninput[type="radio"] {\n  vertical-align: baseline;\n}\n\nsmall {\n  font-size: 0.875em;\n}\n\nspan {\n  font-style: inherit;\n  font-weight: inherit;\n}\n\ntable td,\ntable th {\n  text-align: left;\n  vertical-align: top;\n}\nbody{\n\tfont-family: BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif;\n}\n',r=n("afb6"),u=n("b185"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative"},[n("NotificationHolder"),t.loading?n("Loading"):t._e(),n("div",[n("div",{staticClass:"tabs tw-semibold h4 mb-normal"},[n("ul",{staticClass:"d-inline-flex"},[n("li",{staticClass:"tab",class:{active:t.isActiveTab(0)},on:{click:function(e){return t.activateTab(0)}}},[t._v("Apps")]),t._l(t.Tabs,(function(e,i){return n("li",{staticClass:"tab",class:{active:t.isActiveTab(i+1)},on:{click:function(e){return t.activateTab(i+1)}}},[t._v(t._s(e[1]))])}))],2)]),t.isActiveTab(0)?n("div",[n("AppList",{staticStyle:{width:"calc(100% - 350px)"},attrs:{d:t.d,items:t.Apps},on:{"save-item":t.saveApp,"remove-item":t.removeApp,"change-lists":t.changeAppLists}}),n("div",{staticClass:"fixed",staticStyle:{right:"1em",width:"350px",top:"100px","max-height":"calc(100vh - 140px)",overflow:"auto"}},[n("StyleManager")],1)],1):t._e(),t._l(t.Tabs,(function(e,i){return t.isActiveTab(i+1)?n(e[0],{tag:"component"}):t._e()}))],2)],1)},m=[],p=n("ade3"),h=n("5530"),f=(n("13d5"),n("07ac"),n("4de4"),n("f267")),v=n("6ef7"),b=n("e5b6"),g=n("6c1d"),y=n("48dd"),_=n("f3ae"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative lc"},[t.loading?n("Loading"):t._e(),n("div",{staticClass:"mb-normal"},[t.editor.item?n("AppEditor",{attrs:{item:t.editor.item,index:t.editor.index,shortcode:t.appShortcode(t.editor.item)},on:{"save-item":t.saveItem,"cancel-edit":t.cancelEdit,"update-name":t.updateName}}):n("div",[t._l(t.Items,(function(e,i){return n("div",{staticClass:"box d-flex jc-between ai-center mb-xs"},[n("div",{staticClass:"d-flex ai-center flex-wrap"},[n("h5",{staticClass:"h6 tw-semibold mr-normal"},[t._v(t._s(e.name))]),n("code",{staticClass:"h5"},[t._v(t._s(t.appShortcode(e)))])]),n("div",[n("button",{staticClass:"button mr-sm",on:{click:function(e){return t.editItem(i)}}},[n("fa",{attrs:{icon:"pen"}})],1),n("button",{staticClass:"button error",on:{click:function(e){return t.removeItem(i)}}},[n("fa",{attrs:{icon:"trash"}})],1)])])})),n("div",{staticClass:"mb-sm mt-md tw-semibold"},[n("button",{staticClass:"button secondary mr-sm",on:{click:t.addApp}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"plus"}}),t._v("Add Streams")],1),t.Config.apps.singles?n("button",{staticClass:"button secondary",on:{click:function(e){return t.addApp(e,!0)}}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"plus"}}),t._v("Add Singles")],1):t._e()])],2)],1)],1)},O=[],C=n("b85c"),E=n("2909"),j=(n("99af"),n("8a79"),n("a15b"),n("d81d"),n("b0c0"),n("4fad"),n("15fd")),x=n("3835"),I=(n("caad"),n("2532"),n("fb6a"),n("0ff5")),T=function(t){return{static:!1,source:"youtube",edge:t,entity:"",limit:I["a"].source.limit.any,exclude:null}},w={entity:function(t,e){var n=t.label,i=t.tip,s=void 0===i?null:i,a=t.masks,l=void 0===a?null:a;return[{tag:"EntityInput",component:"Input",classes:["d-flex","ai-center","mb-sm","col","flex-none"],config:{path:"entity",type:"text",label:n,tip:e.includes("--")?{content:'Please see <a href="https://curatorstudio.io/docs/dynamic-entities/" target="_blank">this article</a>'}:s,masks:l,validations:e.includes("search")&&!e.includes("--")?[]:[{n:"onlyspace",not:!0,msg:"Cannot be empty"}]}}]},static:[{tag:"SwitchInput",component:"Input",classes:["d-flex","ai-center","mb-sm","col","flex-none","flex-column"],config:{path:"static",label:"Pinned",tip:"Items from pinned source will always show before others",options:[{value:!1,label:""},{value:!0,label:""}]}}],limit:function(t){return[{tag:"TextInput",component:"Input",classes:["d-flex","ai-center","mb-sm","col","flex-none"],config:{path:"limit",label:"Limit (API)",type:"number",tip:"How many items to fetch from this source's API at a time",attrs:{min:1,max:I["a"].source.limit.any},validations:[{n:"min",v:1,msg:"Must be at least 1"},{n:"max",v:I["a"].source.limit.any,msg:"Cannot be more than ".concat(I["a"].source.limit.any)}]}}]},date_range:[{tag:"DateInput",component:"Input",classes:["d-flex","ai-center","mb-sm","col","flex-none"],config:{path:"from",label:"From",type:"date",validations:[]}},{tag:"DateInput",component:"Input",classes:["d-flex","ai-center","mb-sm","col","flex-none"],config:{path:"to",label:"To",type:"date",validations:[]}}],channel:[{tag:"EntityInput",component:"Input",classes:["d-flex","ai-center","mb-sm","col","flex-none"],config:{path:"channel",type:"text",label:"Channel",tip:"Restrict search to this channel id or URL",masks:["channel"],validations:[]}}],country_code:[{tag:"EntityInput",component:"Input",classes:["d-flex","ai-center","mb-sm","col","flex-none"],config:{path:"region_code",type:"text",label:"2-letter country code",tip:"Restrict category videos to this country",validations:[]}}],sort:[{tag:"SelectInput",component:"Input",classes:["col"],config:{path:"sortby",label:"Sort by (API)",config:{allow_empty:!1,select_key:"value",multiple:!1},options:[{value:"date",label:"Date"},{value:"relevance",label:"Relevance"},{value:"viewCount",label:"Views"},{value:"rating",label:"Likes"},{value:"title",label:"Title"}]}}],exclude:[{tag:"TextInput",component:"Input",classes:["d-flex","ai-center","col","flex-none"],config:{path:"exclude",label:"Exclude words",type:"text",tip:"Exclude items containing these words. Separate multiple words by commas."}}]},k=function(t,e){return e.map((function(e){return["".concat(t).concat(e[0]),e.slice(1)]}))},A=function(t,e){return t.map((function(t){return"function"===typeof w[t]?w[t](e):w[t]}))},P=function(t,e){var n,i=[],s=Object(C["a"])(t);try{for(s.s();!(n=s.n()).done;)for(var a=n.value,l=a.title,o=a.fields,c=a.schema,r=Object(j["a"])(a,["title","fields","schema"]),u=o.edge,d=0,m=[[u,["",c.label]]].concat(Object(E["a"])(k(u,e)));d<m.length;d++){var p,f,v=Object(x["a"])(m[d],2),b=v[0],g=Object(x["a"])(v[1],2),y=g[0],_=g[1],S=c.fields||[[]];i.push(Object(h["a"])(Object(h["a"])({title:l+y,fields:Object(h["a"])(Object(h["a"])({},o),{},{edge:b})},r),{},{schema:[(p=w.entity(Object(h["a"])(Object(h["a"])({},c),{},{label:_}),b)).concat.apply(p,Object(E["a"])(A(S[0],Object(h["a"])(Object(h["a"])({},o),{},{edge:b}))))].concat(Object(E["a"])(S[1]?[(f=[]).concat.apply(f,Object(E["a"])(A(S[1],Object(h["a"])(Object(h["a"])({},o),{},{edge:b}))))]:[]))}))}}catch(O){s.e(O)}finally{s.f()}return i},L=[{title:"Channel",fields:{source:"youtube",edge:"profile",entity:""},type:"profile",select_key:"id",children:[["Videos",[Object(h["a"])(Object(h["a"])({},T("videos")),{},{sortby:"date"})]]],schema:{masks:["channel"],label:"Enter channel ID or URL",entity:"Channel ID"}},{title:"A single video",fields:{source:"youtube",edge:"video",entity:""},type:"item",select_key:"external_id",schema:{masks:["video"],label:"Enter video ID or URL",entity:"Video ID"}},{title:"Videos of a channel",fields:Object(h["a"])(Object(h["a"])({},T("videos")),{},{sortby:"date"}),type:"item",select_key:"external_id",schema:{fields:[["limit"]],masks:["channel"],label:"Enter channel ID or URL",entity:"Channel ID"}},{title:"Videos of a playlist",fields:T("playlist-videos"),type:"item",select_key:"external_id",schema:{fields:[["limit"]],masks:["playlist"],label:"Enter playlist, ID or URL",entity:"Playlist ID"}}],M=Object(E["a"])(P(L,[["--shortcode"," from shortcode attribute","Enter shortcode attribute name"]])),R=[{source:"youtube",edge:"comments",entity:""}],D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(h["a"])({Pane:"simple-pane",List:"masonry",Item:"simple-item",Viewer:"simple-viewer",LightList:"simple-light-list",Meta:"simple-meta"},t)},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.pagination,s=void 0===i?{}:i,a=n.viewer,l=void 0===a?{}:a,o=Object(j["a"])(n,["pagination","viewer"]),c=arguments.length>3?arguments[3]:void 0;return{list:Object(f["b"])(Object(h["a"])({select_key:e,allow_empty:!0,pagination:Object(h["a"])({type:4,query_on_load:!0,per_page:I["a"].pagination.items},s),sort:{by:"created_time",order:1,sync:!1},viewer:l},o)),meta:null,components:D(c),items:[],child_list:null,comments:{list:Object(f["b"])({select_key:"external_id",allow_empty:!0,pagination:{type:4,query_on_load:!0,per_page:I["a"].pagination.comments},sort:{by:"created_time",order:1,sync:!1}}),config:{cache:540,exclude:[]},stream:{meta:null,sources:Object(b["c"])(R)}},config:{cache:540,exclude:[]},stream:{meta:null,sources:t}}},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{list:Object(f["b"])({select_key:"id",pagination:{query_on_load:!0}}),meta:e,components:D(),items:t,child_list:null,stream:{meta:null,sources:null}}},N=n("610d"),F=n("ca23"),q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.fields,s=void 0===i?[]:i,a=n.title,l=void 0===a?[]:a;return{tag:"div",classes:["sed-group"],children:[{tag:"h3",classes:l,text:t},{tag:"div",classes:s,children:e}]}},H=function(t,e){return{tag:"SelectInput",component:"Input",classes:["sed-field"],config:{path:t,label:e.name,config:{allow_empty:!0,select_key:"value",multiple:!1},options:e.options.map((function(t){var e=Object(x["a"])(t,2),n=e[0],i=e[1];return{label:i,value:n}}))}}},G=function(t){return[["t","Top"],["r","Right"],["b","Bottom"],["l","Left"],["a","All"]].map((function(e){var n=Object(x["a"])(e,2),i=n[0],s=n[1];return{tag:"div",classes:["halfwidth"],children:[H("".concat(t).concat(i),{name:s,options:[["","Auto"]].concat(Object(E["a"])([["xs","XS"],["sm","SM"],["normal","Normal"],["md","M"],["l","L"],["none","None"]].map((function(e){var n=Object(x["a"])(e,2),s=n[0],a=n[1];return["".concat(t).concat(i,"-").concat(s),a]}))))})]}}))},z=function(t){for(var e={},n=0,i=Object.entries(t);n<i.length;n++){var s=Object(x["a"])(i[n],2),a=s[0],l=s[1],o=(l.schema,l.eschema,l.editable,Object(j["a"])(l,["schema","eschema","editable"]));e[a]=Object(b["c"])(o)}return e},B=function(t,e){var n=[],i={},s=[];if(t.eclasses&&(n=t.eclasses.filter((function(t){return"string"===typeof t||Array.isArray(t)})),i=t.eclasses.filter((function(t){return!("string"===typeof t||Array.isArray(t))}))[0]||{}),t.eclasses=n.reduce((function(t,e){return Array.isArray(e)?Object.assign(t,e[1]):t}),i),t.eschema&&t.eschema.classes){for(var a=0,l=Object.entries(t.eschema.classes);a<l.length;a++){var o=Object(x["a"])(l[a],2),c=o[0],r=o[1];void 0===i[c]&&r.options.unshift(["","Auto"]),t.eschema.classes[c]=H(c,r)}s=Object.values(t.eschema.classes)}e.elements["".concat(t.key,"-eschema")]={tag:"div",children:[].concat(Object(E["a"])(s),Object(E["a"])(n.map((function(t){return Array.isArray(t)?t[0]:t}))))},t.eschema="".concat(t.key,"-eschema")},U=function(t,e){t=Object(F["c"])(t);for(var n=0,i=Object.entries(t);n<i.length;n++){var s=Object(x["a"])(i[n],2),a=(s[0],s[1]);(a.eclasses||a.eschema&&a.eschema.classes)&&B(a,e)}return t},W=(n("b64b"),Object(s["b"])(s["a"])),J=W.spacing.relative,Z=["auto"].concat(Object(E["a"])(Object.keys(J)),["none"]),K={masonry__items:{tag:"div",children:[{tag:"TextInput",component:"Input",classes:["mb-normal"],config:{path:"min_width.1",type:"number",label:"Item Min. Width",attrs:{min:50},validations:[{n:"min",v:50,msg:"Must be at least 50"}]}},{tag:"TextInput",component:"Input",classes:["mb-normal"],config:{path:"max_width.1",type:"number",label:"Item Max. Width",attrs:{min:50},validations:[{n:"min",v:50,msg:"Must be at least 50"}]}}]},"basic-item":{tag:"div",children:[{tag:"SwitchInput",component:"Input",classes:["d-flex","ai-center","mb-normal"],config:{path:"absolute",label:"Show meta on hover",options:[{value:!1,label:""},{value:!0,label:""}]}}]},"long-item":{tag:"div",children:[{tag:"TextInput",component:"Input",classes:["mb-sm"],config:{path:"media_width",type:"number",label:"Media Width",attrs:{min:0},validations:[{n:"min",v:0,msg:"Must be at least 0"}]}}]},carousel__items:{tag:"div",children:[{tag:"TextInput",component:"Input",classes:["mb-sm"],config:{path:"max_width.1",type:"number",label:"Item Max Width",attrs:{min:50},validations:[{n:"min",v:50,msg:"Must be at least 50"}]}},{tag:"SelectInput",component:"Input",config:{path:"gap",label:"Gap",config:{allow_empty:!1,select_key:"value",multiple:!1},options:Z.map((function(t){return{value:t,label:t.toUpperCase()}}))}}]},carousel__navigation:q("Buttons",[H("classes.button.size",{name:"Size",options:[["","Auto"],["small","Small"],["medium","Medium"]]}),H("classes.button.round",{name:"Rounded",options:[["","No"],["round","Yes"]]}),H("classes.button.color",{name:"Color",options:[["","Auto"],["primary","Primary"],["secondary","Secondary"],["text","Text"]]})],{title:["h4"]}),"li-comments":q("Avatar",[H("classes.avatar.round",{name:"Rounded",options:[["","No"],["round","Yes"]]})],{title:["h4"]}),"simple-list":{tag:"div",children:[{tag:"RichSelectInput",component:"Input",config:{path:"text-decoration",label:"Text",config:{allow_empty:!1,select_key:"value",multiple:!1},options:[{value:"none",label:"None"},{value:"underline",label:"Underline"},{value:"line-through",label:"Strike-through"}]}}]}},Y=(n("1276"),n("ac1f"),q),X=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?"comments.":"",n=[{tag:"div",classes:"box pa-none bra-sm clipped".split(" "),children:[{tag:"div",classes:"pa-sm pl-normal pr-normal bg-shadea3 tw-semibold h6 color-shadeb3 d-flex jc-between ai-center".split(" "),text:"Pagination"},{tag:"div",classes:["pa-normal"],children:[{tag:"div",classes:["cols"],children:[{tag:"TextInput",component:"Input",classes:["col"],config:{path:"".concat(e,"list.pagination.per_page"),type:"number",label:"Per page",attrs:{min:0},validations:[{n:"min",v:0,msg:"Must be at least 0"}]}},{tag:"TextInput",component:"Input",classes:["col"],config:{path:"".concat(e,"list.pagination.max_results"),type:"number",label:"Total limit",tip:"Enter 0 for no limit",attrs:{min:0},validations:[{n:"min",v:0,msg:"Must be at least 0"}]}},{tag:"SelectInput",component:"Input",classes:["col"],config:{path:"".concat(e,"list.pagination.type"),label:"Style",config:{allow_empty:!1,select_key:"value",multiple:!1},type:"number",options:[{value:2,label:"Load more button (items replaced)"},{value:4,label:"Load more button (items appended)"},{value:3,label:"Prev / Next buttons"}]}}]}]}]}];return n},tt={elements:{"esm-theme":{tag:"div",classes:["h5"],children:[{tag:"ColorInput",component:"Input",classes:["mb-sm"],config:{path:"colors.primary",type:"color",label:"Primary",autoable:!0,validations:[]}},{tag:"ColorInput",component:"Input",classes:["mb-sm"],config:{path:"colors.secondary",type:"color",label:"Secondary",validations:[]}},{tag:"ColorInput",component:"Input",classes:["mb-sm"],config:{path:"colors.link",type:"color",label:"link",autoable:!0,validations:[]}},{tag:"ColorInput",component:"Input",classes:["mb-normal"],config:{path:"colors.hue",type:"color",label:"Text",autoable:!0,validations:[]}},Y("Card",[{tag:"SwitchInput",component:"Input",classes:["d-flex","ai-center","mb-sm"],config:{path:"card.background",label:"Background",options:[{value:0,label:""},{value:1,label:""}]}},{tag:"SwitchInput",component:"Input",classes:["d-flex","ai-center","mb-sm"],config:{path:"card.elevation",label:"Shadow",options:[{value:0,label:""},{value:1,label:""}]}},{tag:"SwitchInput",component:"Input",classes:["d-flex","ai-center","mb-sm"],config:{path:"card.border",label:"Border",options:[{value:0,label:""},{value:1,label:""}]}},{tag:"SwitchInput",component:"Input",classes:["d-flex","ai-center","mb-sm"],config:{path:"rounded",label:"Rounded Corners",options:[{value:0,label:""},{value:1,label:""}]}}],{title:["h5"]})]},"esm-stream-pagination":{tag:"div",children:Q()},"esm-stream":{tag:"div",classes:["has-inline-inputs"],children:[[{rule:{n:"truthy"},key:"local.conditionals.pagination"},"esm-stream-pagination"],{tag:"div",classes:"box pa-none bra-sm clipped mt-normal".split(" "),children:[{tag:"div",classes:"pa-sm pl-normal pr-normal bg-shadea3 tw-semibold h6 color-shadeb3 d-flex jc-between ai-center".split(" "),text:"Items"},{tag:"div",classes:["cols","pa-normal"],children:[{tag:"SelectInput",component:"Input",classes:["col"],config:{path:"list.viewer.mode",label:"On Item Click",config:{allow_empty:!1,select_key:"value",multiple:!1},type:"number",options:[{value:1,label:"Open in lightbox"},{value:2,label:"Redirect"},{value:3,label:"Open before/after list"}]}}]}]}]}},root:"schema",shared:{}},et={spacing:q("Spacing",[q("Margin",G("m"),{title:["h5"],fields:["d-flex","flex-wrap"]}),q("Padding",G("p"),{title:["h5"],fields:["d-flex","flex-wrap"]})],{title:["h4","mb-xs"]}),borders:q("Borders",Object(E["a"])([["t","Top"],["r","Right"],["b","Bottom"],["l","Left"],["a","All"]].map((function(t){var e=Object(x["a"])(t,2),n=e[0],i=e[1];return{tag:"div",classes:["halfwidth"],children:[H("b".concat(n),{name:i,options:[["","Auto"]].concat(Object(E["a"])([["1","1px"],["none","None"]].map((function(t){var e=Object(x["a"])(t,2),i=e[0],s=e[1];return["b".concat(n,"-").concat(i),s]}))))})]}}))),{title:["h4","mb-xs"],fields:["d-flex","flex-wrap"]}),alignment:q("Alignment",[H("jc",{name:"Align",options:[["","Auto"]].concat(Object(E["a"])(["flex-start","flex-end","center","space-between","space-around"].map((function(t){var e=t.split("-")[1]||t;return["jc-".concat(e),X(e)]}))))})],{title:["h4","mb-xs"]}),gap:H("gap",{name:"Gap",options:[["","Auto"]].concat(Object(E["a"])(["xs","sm","normal","md","none"].map((function(t){return["gap-".concat(t),t.toUpperCase()]}))))})},nt=n("cfaf");Object.assign(tt.elements,K,nt["default"]);for(var it=0,st=Object.entries(et);it<st.length;it++){var at=Object(x["a"])(st[it],2),lt=at[0],ot=at[1];tt.elements[lt]=ot}var ct=tt,rt={elements:{pane:{tag:null,component:"Pane",type:"Pane"},"stream-editor":{tag:"div",name:"Stream Editor",component:"StreamEditor"},"simple-pane":{tag:"div",component:"SimplePane",children:["stream-editor","pane-intro","list","pane"],type:"Pane"},"pane-intro":{tag:"div",component:"PaneIntro",children:[]},"plain-pane":{tag:"div",component:"Pane"},list:{tag:null,component:"List",type:"List"},viewer:{tag:null,component:"Viewer",type:"Viewer"},"simple-light-list":{tag:"div",component:"SimpleLightList",classes:["mb-normal"],children:["list-meta"]},"list-meta":{tag:null,component:"Meta",type:"Meta"},"simple-meta":{tag:"div",component:"SimpleMeta",name:"Simple Meta",type:"Meta"},masonry:{tag:"div",name:"Masonry",component:"Masonry",children:["viewer",{tag:"div",key:"masonry__container",classes:["cols"],children:["masonry__items__container"]}],type:"List",eclasses:["spacing"]},masonry__items__container:{tag:"div",key:"masonry__items__container",classes:["col","col-12"],editable:!0,children:["masonry__items","list-pagination"]},masonry__items:{tag:"div",key:"masonry__items",component:"ListItems",schema:"masonry__items",name:"Masonry Columns",config:{min_width:["",300,"px"],max_width:["",420,"px"]},children:[{tag:"div",classes:["cols"],key:"masonry__groups",name:"Items",list:{type:"key",value:"local.buckets"},children:[{tag:"div",key:"masonry__item",classes:["col"],children:["list-item"],list:{type:"key",value:"data"}}],eclasses:["gap"]}]},"simple-list":{tag:"div",name:"Simple List",component:"SimpleList",type:"List",children:["viewer",{tag:"div",key:"simple-list__container",classes:["cols"],children:["simple-list__items__container"],eclasses:["gap"]}]},"simple-list__items__container":{tag:"div",key:"simple-list__items__container",classes:["col","col-12"],children:[{tag:"div",key:"simple-list__items",component:"ListItems",name:"Items",list:{type:"key",value:"local.Items"},children:["list-item"],eclasses:["gap"]},"list-pagination"]},"simple-list__meta":{tag:"div",key:"simple-list__meta",children:["list-meta"],classes:["col","col-12"]},"list-pagination":{tag:"div",name:"Pagination",component:"Pagination",eclasses:[["spacing",{mt:"mt-md"}],["alignment",{jc:"jc-center"}],{width:"wide"}],eschema:{classes:{width:{name:"Width",options:[["wide","Wide"],["narrow","Narrow"]]}}}},"list-item":{tag:null,component:"Item",type:"Item"}},root:"root",shared:{}},ut={"simple-item":{tag:"div",classes:["sub-col","card",[{rule:{n:"truthy"},key:"local.highlighted"},["card--active"]]],name:"Simple Item",component:"StandardItem",type:"Item",children:["li-author","li-text","li-media","li-link-box"]},"long-item":{tag:"div",name:"Long Item",component:"LongItem",classes:["sub-col","card",[{rule:{n:"truthy"},key:"local.highlighted"},["card--active"]]],schema:"long-item",type:"Item",config:{shift:!0,media_width:65},children:[{tag:"div",key:"long-item__content",classes:["cols","gap-none"],children:[[{rule:{n:"truthy"},key:"local.it.media"},"long-item__content__media"],{tag:"div",key:"long-item__content__elements",classes:["col",[{rule:{n:"truthy",not:!0},key:"local.columnar"},["scroll-y"]]],editable:!0,css:{"max-height":{type:"key",value:"local.mboxh"}},children:["li-author","li-text"]}]}]},"long-item__content__media":{tag:"div",classes:["col","flex-none"],ref:"mediael",css:{width:{type:"key",value:"local.mboxw"}},children:["li-media","li-link-box"]}},dt={"li-author":{tag:"div",name:"Author",component:"Author",eclasses:[["spacing",{ma:"ma-normal"}]]},"li-text":{tag:"div",name:"Text",component:"TextContent",eclasses:[["spacing",{pa:"pa-normal",pt:"pt-none"}]]},"li-media":{tag:"div",name:"Media",component:"Media",eclasses:["spacing"]},"li-link-box":{tag:"div",name:"Link Box",component:"LinkBox",classes:["bc-shadea2"],eclasses:[["spacing",{pa:"pa-normal"}],"borders"]},"li-stats":{tag:"div",name:"Stats",component:"Stats",eclasses:["spacing"]},"li-comments":{tag:"div",component:"Comments",name:"Comments",config:{classes:{avatar:{round:""}}},schema:"li-comments",eclasses:[["spacing",{ma:"ma-normal"}]]}},mt={"simple-viewer":{tag:"div",component:"SimpleViewer",name:"Simple Viewer",type:"Viewer",classes:["mb-normal"],children:[[{rule:{n:"equals",v:1},key:"local.viewMode"},"simple-viewer__lightbox"],[{rule:{n:"equals",v:3},key:"local.viewMode"},"simple-viewer__inline__wrapper"]]},"simple-viewer__inline__wrapper":{tag:"div",name:"Inline",classes:["relative"],hideable:!1,children:["simple-viewer__inline","simple-viewer__navigation"]},"simple-viewer__inline":{tag:"div",children:[[{rule:{n:"truthy"},key:"local.isCollection"},"simple-viewer__collection","simple-viewer__item"]]},"simple-viewer__lightbox":{tag:"div",component:"LightBox",name:"Lightbox",hideable:!1,slots:!0,children:["simple-viewer__ligthbox__inner","simple-viewer__navigation"]},"simple-viewer__ligthbox__inner":{tag:"div",classes:["fullwidth","bg-shadea4"],children:[[{rule:{n:"truthy"},key:"local.isCollection"},"simple-viewer__collection","simple-viewer__item"]]},"simple-viewer__comments":{tag:"div",component:"Comments",classes:["pa-sm"]},"simple-viewer__collection":{tag:"div",hideable:!1,children:[{tag:"div",key:"simple-viewer__collection__thumbgrid",component:"ThumbGrid"},[{rule:{n:"truthy"},key:"local.showComments"},"simple-viewer__comments"]]},"simple-viewer__item":{tag:"div",component:"Item",hideable:!1,name:"Item",config:{shift:!0,media_width:65}},"simple-viewer__navigation":{tag:"div",component:"Navigation",name:"Navigation",classes:["carousel__navigation--static","carousel__navigation--static--in"],config:{classes:{button:{round:"",size:"",color:"primary"}}},schema:"carousel__navigation",eclasses:[["spacing",{mt:"mt-sm"}],["alignment",{jc:"jc-between"}]]}},pt=Object(b["c"])(rt);Object.assign(pt.elements,Object(h["a"])(Object(h["a"])(Object(h["a"])({},ut),dt),mt));var ht,ft,vt,bt,gt,yt,_t,St,Ot=U(Object(b["c"])(pt),ct),Ct=Object(F["c"])(ct,!0),Et=[{name:"Main",value:"main",component:"Explorer"}],jt=Ot,xt=(n("7db0"),n("d3b7"),n("ddb0"),function(t){for(var e={},n=0,i=Object.entries(t.lists);n<i.length;n++){var s=Object(x["a"])(i[n],2),a=s[0],l=s[1];l&&!l.is_dynamic&&(e[a]=Object(h["a"])({},l),delete e[a].errors,l.stream.sources&&(e[a].items=[]),e[a].meta=null)}return Object(b["c"])(e)}),It=function(t,e,n){var i=t[n],s=i.list_id,a=i.parent,l=Object(b["l"])();e[l]=$([{id:Object(b["l"])(),name:"New Group",child_list:s}]);var o=t[t.rootLid].list_id;if(a){var c=e[t[a].list_id],r=c.items.find((function(t){return t.child_list===s}));r.child_list=l}else o=l;return{lists:e,list_id:l,itemsList:e[l],root:o}},Tt=function(t,e,n){var i=n.lid,s=n.i,a=t[i],l=a.list_id,o=a.parent,c=e[l],r=c.items[s].child_list;c.items=Object(N["d"])(c.items,s);var d=t[t.rootLid].list_id;if(c.items.length)Object(u["b"])(e,r);else if(Object(u["d"])(e,l),o){var m=e[t[o].list_id].items.find((function(t){return t.child_list===l}));m.child_list=r}else d=r;return{lists:kt(e),root:d}},wt=function(t,e,n,i,s,a,l){var o,c=t[n],r=c.list_id,u=c.parent,d=[r].concat(Object(E["a"])(s.map((function(t){return Object(b["l"])()})))),m=d.pop(),p={},f=Object(C["a"])(s.entries());try{for(f.s();!(o=f.n()).done;){var v=Object(x["a"])(o.value,2),g=v[0],y=v[1],_=l(y[1][0]);if(p[d[g]]=V(y[1],_.select_key,{is_leaf:"collection"!==_.content}),e[d[g]]=p[d[g]],y[2]){var S=Object(b["l"])();p[S]=a(y[2][0]),e[S]=p[S],d.push(S),p[d[g]].child_list=S}}}catch(T){f.e(T)}finally{f.f()}e[m]=Object(h["a"])(Object(h["a"])({},$(s.map((function(t,e){return{id:Object(b["l"])(),name:t[0],child_list:d[e]}})))),{},{stream:{meta:i,sources:null}});var O=t[t.rootLid].list_id;if(u){var j=e[t[u].list_id],I=j.items.find((function(t){return t.child_list===r}));I.child_list=m}else O=m;return{lists:e,list_id:m,itemsList:e[m],root:O,clids:d,streams_list:p}},kt=function(t){return Object.entries(t).reduce((function(t,e){return e[1]?Object.assign(t,Object(p["a"])({},e[0],e[1])):t}),{})},At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex"},[n("div",[n("button",{staticClass:"button medium secondary mr-sm",on:{click:function(e){return t.$emit("cancel-edit")}}},[n("fa",{attrs:{icon:"angle-left"}})],1)]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],staticClass:"input medium mr-sm",attrs:{placeholder:"App Name",title:"Hit Enter to save"},domProps:{value:t.item.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("update-name",t.item)},input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}}),n("div",[n("input",{staticClass:"input medium shortcode-input",staticStyle:{width:"20em"},attrs:{readonly:""},domProps:{value:t.shortcode}}),n("fa",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Copy & paste this shortcode to a post editor or text widget",expression:"'Copy & paste this shortcode to a post editor or text widget'"}],attrs:{icon:"info-circle"}})],1)]),n("keep-alive",t._l(t.Views,(function(e){return t.SchemaChanger.View===e.value?n(e.component,{key:e.component,tag:"component",attrs:{instance:t.instance,module:"emodule"}}):t._e()})),1)],1)},Pt=[],Lt=(n("a9e3"),n("3ca3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"small-text mb-md mt-md"},[t.allowTabs?n("div",[n("button",{staticClass:"button",on:{click:t.addGroup}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"plus"}}),t._v("Add Tab")],1)]):t._e(),t.list.stream.sources||t.list.stream.meta?n("div",{staticClass:"box pa-none bra-sm clipped mt-normal"},[n("div",{staticClass:"pa-sm pl-normal pr-normal bg-secondary tw-semibold h5 color-shadea3 d-flex jc-between ai-center cursor-pointer",on:{click:t.toggleOpen}},[t._v(" Stream "),n("fa",{attrs:{icon:t.panelIcon}})],1),n("div",{staticClass:"pa-normal",class:{"d-none":!t.open}},[n("div",[n("div",{staticClass:"small-text d-none"},[n("code",[t._v(t._s(t.pane.list_id))])]),n("stream-sources",{attrs:{lid:t.pane.list_id,pid:t.lid,d:t.sourceList,items:t.getSources(),"original-items":t.getOriginalSources(),"default-source-type":t.defaultSourceType}})],1),t.list.stream.sources?n("div",{staticClass:"mt-xs"},[n("StreamOptionsEditor",{attrs:{lid:t.lid}})],1):t._e()])]):t._e()])}),Mt=[],Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box mb-normal"},[n("Draggable",{on:{start:function(e){t.dragging=!0},end:function(e){t.dragging=!1}},model:{value:t.draggables,callback:function(e){t.draggables=e},expression:"draggables"}},t._l(t.Items,(function(e,i){return n("StreamSource",{key:[e.source,e.edge,e.entity].join("-"),staticClass:"mb-normal cursor-move",attrs:{item:e,index:i,src:t.sourceOptions[t.usource(e)],error:t.sourceErrors[i]},on:{"save-item":t.saveItem,"cancel-edit":t.cancelEdit,"remove-item":t.removeItem}})})),1),t.editor.item&&t.editorSource?n("StreamSource",{staticClass:"mb-normal",attrs:{item:t.editor.item,index:t.editor.index,src:t.editorSource},on:{"save-item":t.saveItem,"cancel-edit":t.cancelEdit}}):t._e(),t.allowMultiple?n("div",[n("div",{staticClass:"select tw-semibold h5 mt-sm mb-sm"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSourceType,expression:"selectedSourceType"}],attrs:{disabled:!!t.editor.item},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSourceType=e.target.multiple?n:n[0]},t.addSource]}},t._l(t.sourceOptionTitles,(function(e){var i=e[0],s=e[1];return n("option",{attrs:{disabled:-1===s},domProps:{value:s}},[t._v(t._s(i))])})),0)])]):t._e()],1)},Dt=[],Vt=(n("2ca0"),{inject:{updateStreams:{type:Function,required:!0},changeStreams:{type:Function,required:!0},getState:{type:Function,required:!0},COMMIT:{type:Function,required:!0},DISPATCH:{type:Function,required:!0}}}),$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ba-1-border pa-md bra-md"},[n("h6",{staticClass:"h6 tw-bold mb-xs"},[t._v(t._s(t.src.title))]),t.error?n("div",{staticClass:"bg-error box pa-sm color-shadea3 mt-sm mb-sm tw-semibold",domProps:{innerHTML:t._s(t.error.message)}}):t._e(),t.src.tip?n("div",{staticClass:"bg-secondary box pa-sm color-shadea3 mt-sm mb-sm tw-semibold",domProps:{innerHTML:t._s(t.src.tip)}}):t._e(),n("div",{staticClass:"cols jc-between"},[n("div",{staticClass:"col"},[n("Fields",{attrs:{schema:t.schema[0],eid:"root",peid:null}}),t.schema[1]?n("div",{staticClass:"mt-xs"},[n("a",{staticClass:"color-text",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.advanced=!t.advanced}}},[n("fa",{attrs:{icon:t.advanced?"times":"plus"}}),t._v(" More options ")],1)]):t._e(),t.advanced&&t.schema[1]?n("Fields",{attrs:{schema:t.schema[1],eid:"root",peid:null}}):t._e()],1),n("div",{staticClass:"col flex-none"},[n("span",{staticClass:"label d-none-sm"}),n("div",{staticClass:"buttons attached"},[n("button",{staticClass:"button",attrs:{title:"Cancel"},on:{click:t.onReset}},[n("fa",{attrs:{icon:"undo"}})],1),n("button",{staticClass:"button primary",attrs:{title:"Save"},on:{click:t.onSubmit}},[n("fa",{attrs:{icon:"check"}})],1),1!==t.item.dynamic?n("button",{staticClass:"button error",attrs:{title:"Delete"},on:{click:t.handleRemoveCall}},[n("fa",{attrs:{icon:"times"}})],1):t._e()])])])])},Nt=[],Ft=(n("159b"),{inject:["getFieldValue","setFieldValue","registerField","unRegisterField"],props:{depends:{type:Array,default:function(){return[]},required:!1}},data:function(){return{display:!0}},destroyed:function(){this.destroyDepWatchers()},created:function(){this.setupDepWatchers()},methods:{runDependency:function(t,e,n){"function"===t.type?this[t.action](e,n):"fence"===t.type&&(b["a"].process(t.rule,n)?this.display="show"===t.action:this.display="hide"===t.action)},registerDependencies:function(){var t,e=this,n=Object(C["a"])(this.depends);try{var i=function(){var n=t.value;e.depwatchers.push(e.$watch((function(){return e.getFieldValue(n.path)}),(function(t,i){e.runDependency(n,n.path,t)}),{immediate:!0}))};for(n.s();!(t=n.n()).done;)i()}catch(s){n.e(s)}finally{n.f()}},setupDepWatchers:function(){this.depwatchers||(this.depwatchers=[]),this.depwatchers.forEach((function(t){return t()})),this.registerDependencies()},destroyDepWatchers:function(){this.depwatchers.forEach((function(t){return t()}))}}}),qt={mixins:[Ft],props:{path:{type:String,required:!0}},data:function(){return{pristine:!0}},methods:{setPristine:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pristine=t},changeValue:function(t){this.setPristine(!1),this.setFieldValue(this.path,t)},validate:function(){return!0}},computed:{value:function(){return this.getFieldValue(this.path)},isValid:function(){return!0}},created:function(){var t=this;this.registerField(this),this.$watch("path",(function(e,n){t.setupDepWatchers(),t.unRegisterField(t,n)}))},destroyed:function(){this.unRegisterField(this,this.path)}},Ht={props:{validations:{type:Array,default:function(){return[]}}},data:function(){return{errors:[]}},computed:{isValid:function(){return!this.errors.length}},methods:{addValidationError:function(t){this.errors=t},removeValidationError:function(){this.errors=[]},setPristine:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pristine=t,t&&this.removeValidationError()}}},Gt={mixins:[qt,Ht],props:{type:{type:String,required:!0},masks:{type:Array,default:function(){return null}}},methods:{onChange:function(t){var e=t.target.value;this.changeValue(this.passThroughMasks(this.textToValue(e)))},passThroughMasks:function(t){return t},textToValue:function(t){switch(this.type){case"text":return String(t);case"number":return Number(t);default:return t}},validate:function(){var t=this.runValidationRules(this.value),e=Object(x["a"])(t,2),n=e[0],i=e[1];n?this.removeValidationError():this.addValidationError(i)},runValidationRules:function(t){var e,n=[],i=Object(C["a"])(this.validations.entries());try{for(i.s();!(e=i.n()).done;){var s=Object(x["a"])(e.value,2),a=s[0],l=s[1];if("function"===l.n){if(!callComputer({local:this},l.v,this)){n=this.validations.slice(a);break}}else if(!b["a"].process(l,t)){n=this.validations.slice(a);break}}}catch(o){i.e(o)}finally{i.f()}return[!n.length,n]}}},zt={mixins:[qt],props:{options:{type:Array,required:!0}},computed:{checkedLabel:function(){return this.options[this.is_selected?0:1].label},is_selected:function(){return this.value===this.options[0].value}},methods:{onChange:function(t){this.changeValue(this.options[this.is_selected?1:0].value)}}},Bt={mixins:[qt,Ht,v["c"]],props:{config:{type:Object,required:!0},options:{type:Array,required:!0}},created:function(){var t=this;this.$watch("value",(function(e,n){t.d.selected=Array.isArray(e)?e:null===e||void 0===e?[]:[e]}),{immediate:!0})},computed:{multiple:function(){return this.d.multiple}},methods:{getItems:function(){return this.options},changeValue:function(t){this.multiple||(t=t.length?t[0]:null),this.setPristine(!1),this.setFieldValue(this.path,t),this.removeValidationError()},onSelect:function(t){var e=t.selected_value;this.multiple?this.changeValue(this.value instanceof Array?[].concat(Object(E["a"])(this.value),[e]):[].concat(Object(E["a"])(null===this.value?[]:[this.value]),[e])):this.changeValue([e])},deSelect:function(t){var e=t.selected_value;(this.d.allow_empty||this.multiple&&1!==this.d.selected.length)&&(this.multiple?this.changeValue(Object(b["j"])(this.value instanceof Array?this.value:[this.value],e,!1)):this.changeValue([]))},clearSelection:function(){this.changeValue([])},validate:function(){this.d.allow_empty||this.d.selected.length||this.addValidationError(this.validations)}}},Ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.reduce((function(t,n){return Object.assign(t,Object(p["a"])({},n,e[n]))}),{})},Wt={data:function(){return{copy:null,realtime:1,fieldVues:[]}},provide:function(){return Ut(["getFieldValue","setFieldValue","registerField","unRegisterField"],this)},created:function(){var t=this;this.$watch((function(){return t.getSource()}),(function(e,n){t.copy=Object(b["c"])(e),t.setPristine(!0)}),{immediate:!0})},computed:{source:function(){return this.realtime?this.getSource():this.copy},isValid:function(){return this.validateFields()},isPristine:function(){return!this.fieldVues.some((function(t){return!t.pristine}))}},methods:{getPathValue:function(t,e){return Object(b["e"])(t,e)},setPathValue:function(t,e,n){Object(b["k"])(t,e,n)},getFieldValue:function(t){return this.getPathValue(this.source,t)},setFieldValue:function(t,e){return this.setPathValue(this.source,t,e)},registerField:function(t){this.fieldVues.push(t)},unRegisterField:function(t,e){Object(b["j"])(this.fieldVues,t)},validateFields:function(){return!this.fieldVues.some((function(t){return t.pristine&&t.validate(),!t.isValid}))},setPristine:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(C["a"])(this.fieldVues);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.setPristine(e)}}catch(s){n.e(s)}finally{n.f()}},onSubmit:function(t){var e=this;t.preventDefault(),Promise.resolve().then((function(){e.isValid&&e.submit(e.source)}))},onReset:function(t){t&&t.preventDefault(),this.realtime||(this.copy=Object(b["c"])(this.getSource())),this.setPristine(!0),this.reset(this.realtime?this.copy:void 0)},reset:function(t){console.log("RESET",t)},submit:function(t){console.log("SUBMIT",t)}}},Jt=n("53ca"),Zt=function(t,e){var n=e._c;return n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.props.tip,expression:"props.tip"}],staticClass:"ml-xs"},[n("fa",{staticStyle:{"font-size":"1.15em"},attrs:{icon:"info-circle"}})],1)},Kt=[],Yt=n("2877"),Xt={},Qt=Object(Yt["a"])(Xt,Zt,Kt,!0,null,null,null),te=Qt.exports,ee=n("fa33"),ne={mixins:[y["a"]],props:{label:{type:String,required:!0},tip:{type:[Object,String]},attrs:{type:Object,default:function(){return{}}}},data:function(){return{tip_switch:!1}},components:{Tooltip:te},computed:{toolTip:function(){var t=this.tip||this.config&&this.config.tip;return t?"object"===Object(Jt["a"])(t)?Object(h["a"])(Object(h["a"])({},t),{},{trigger:"manual",show:this.tip_switch}):t:null}},methods:{toggleTip:function(t){this.tip_switch=void 0===t?!this.tip_switch:t}}},ie={mixins:[ne,Gt],components:{Datepicker:ee["a"]},computed:{isRelativeTime:function(){return Array.isArray(this.value)},timeTip:function(){return this.isRelativeTime?"Switch to absolute date format. (Exact date)":"Switch to relative date format. (Time ago)"},units:function(){return I["a"].date_range_units}},template:'\n\t\t<div>\n\t\t\t<label @click.prevent>\n\t\t\t\t<span class="label">\n\t\t\t\t\t{{ label }} \n\t\t\t\t\t<span v-if="toolTip" v-tooltip="toolTip" class="ml-xs cursor-pointer" @mouseenter="toggleTip(true)" @click="toggleTip(false)">\n\t\t\t\t\t\t<fa icon="info-circle" style="font-size: 1.15em"></fa>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<div class="d-flex">\n\t\t\t\t\t<button class="button square mr-sm" v-tooltip="timeTip" @click="switchMode">\n\t\t\t\t\t\t<fa icon="toggle-on"></fa>\n\t\t\t\t\t</button>\n\t\t\t\t\t<Datepicker v-if="!isRelativeTime" :value="value" @input="changeValue" format="yyyy MMM dd" :clear-button="true" :input-class="cP(\'input\')" v-bind="attrs"></Datepicker>\n\t\t\t\t\t<div v-else class="d-flex">\n\t\t\t\t\t\t<input class="input mr-sm" :value="value[0]" @input="changeRelativeValue($event, 0)" type="number" min="0" placeholder="0" style="width:5em"/>\n\t\t\t\t\t\t<span class="select mr-xs">\n\t\t\t\t\t\t\t<select @change="changeRelativeValue($event, 1)">\n\t\t\t\t\t\t\t\t<option v-for="u in units" :value="u[0]" :selected="u[0] === value[1]">{{ u[1] }}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tago\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="help error" v-for="e in errors">{{ e.msg }}</div>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\t',methods:{changeValue:function(t){this.setPristine(!1),this.setFieldValue(this.path,t)},changeRelativeValue:function(t,e){var n=Object(E["a"])(this.value);n[e]=e?t.target.value:parseFloat(t.target.value),this.changeValue(n)},switchMode:function(){this.isRelativeTime?this.changeValue(null):this.changeValue([0,I["a"].date_range_units[0][0]])}}},se={mixins:[ne,Gt],template:'\n\t\t<div>\n\t\t\t<label>\n\t\t\t\t<span class="label">\n\t\t\t\t\t{{ label }} \n\t\t\t\t\t<span v-if="toolTip" v-tooltip="toolTip" class="ml-xs cursor-pointer" @mouseenter="toggleTip(true)" @click="toggleTip(false)">\n\t\t\t\t\t\t<fa icon="info-circle" style="font-size: 1.15em"></fa>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<input :type="type" :value="value" @input="onChange" @blur="validate" class="input" placeholder="Enter..." v-bind="attrs"/>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="help error" v-for="e in errors">{{ e.msg }}</div>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\t'},ae={mixins:[ne,zt],template:'\n\t\t<div>\n\t\t\t<span class="label">\n\t\t\t\t{{ label }} \n\t\t\t\t<span v-if="toolTip" v-tooltip="toolTip" class="ml-xs cursor-pointer" @mouseenter="toggleTip(true)" @click="toggleTip(false)">\n\t\t\t\t\t<fa icon="info-circle" style="font-size: 1.15em"></fa>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<label class="checkbox">\n\t\t\t\t<input type="checkbox" :checked="value" @change="onChange"/>\n\t\t\t\t<span class="ml-xs">{{ checkedLabel }}</span>\n\t\t\t</label>\n\t\t</div>\n\t'},le={props:{type:{type:String,default:function(){return"text"}}},methods:{onItemSelect:function(t,e){var n=t.target.selectedOptions,i="number"===this.type?Number:String;this.changeValue(Object(E["a"])(n).map((function(t){return i(t.value)})))},clearSelection:function(){}}},oe={mixins:[ne,Bt,le],data:function(){return{d:Object(f["b"])(this.config)}},template:'\n\t\t<div>\n\t\t\t<label>\n\t\t\t\t<span class="label">\n\t\t\t\t\t{{ label }} \n\t\t\t\t\t<span v-if="toolTip" v-tooltip="toolTip" class="ml-xs cursor-pointer" @mouseenter="toggleTip(true)" @click="toggleTip(false)">\n\t\t\t\t\t\t<fa icon="info-circle" style="font-size: 1.15em"></fa>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="select">\n\t\t\t\t\t<select @change="onItemSelect" :multiple="multiple">\n\t\t\t\t\t\t<option v-for="it in itemProps" :value="it.selected_value" :selected="it.is_selected">{{ Items[it.i].label }}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</span>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="help error" v-for="e in errors">{{ e.msg }}</div>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\t'},ce={mixins:[ne,Bt],data:function(){return{d:Object(f["b"])(this.config)}},template:'\n\t\t<div>\n\t\t\t<label>\n\t\t\t\t<span class="label">{{ label }}</span>\n\t\t\t</label>\n\t\t\t<div class="buttons attached">\n\t\t\t\t<button v-for="it in itemProps" @click="onItemSelect($event, it)" class="button" :class="{primary: it.is_selected}">{{ Items[it.i].label }}</button>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div class="help error" v-for="e in errors">{{ e.msg }}</div>\n\t\t\t</div>\n\t\t</div>\n\t'},re=(n("466d"),{methods:{passThroughMasks:function(t){if(this.masks)if("channel"===this.masks[0]){var e=t.match(/^(?:(http|https):\/\/[a-zA-Z-]*\.{0,1}[a-zA-Z-]{3,}\.[a-z]{2,})\/channel\/([a-zA-Z0-9-_]{3,})$/);if(e&&e[2])return e[2]}else if("video"===this.masks[0]){var n=t.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/);if(n&&n[1])return n[1]}else if("playlist"===this.masks[0]){var i=t.match(/^.*(youtu.be\/|list=)([^#\&\?]*).*/);if(i&&i[2])return i[2]}return t}}}),ue=F["b"].inject,de=(ue.Elements,Object(j["a"])(ue,["Elements"])),me={mixins:[y["a"],Object(h["a"])(Object(h["a"])({},F["b"]),{},{inject:de})],props:{schema:{type:Array,required:!0}},computed:{Elements:function(){return Object(F["c"])({elements:{root:{tag:"div",classes:["cols","gap-l","cols--margin-none"],children:this.schema}}},!0)}},components:{EntityInput:{mixins:[se,re]},TextInput:se,SwitchInput:ae,DateInput:ie,SelectInput:oe},methods:{Input:function(t,e){return this.createElement(Object(h["a"])(Object(h["a"])({},t),{},{props:t.config}),e)}}},pe={mixins:[y["a"],Wt,N["b"]],props:{src:{type:Object,required:!0},error:{type:Object,default:function(){return null}}},data:function(){return{advanced:!1}},computed:{schema:function(){if(!this.item.dynamic)return this.src.schema;var t=this.src.schema,e=Object(E["a"])(t[0]),n=e[0],i=n.config,s=Object(j["a"])(n,["config"]);return e[0]=Object(h["a"])({config:Object(h["a"])(Object(h["a"])({},i),{},{attrs:{readonly:!0}})},s),[e].concat(Object(E["a"])(t.slice(1)))}},components:{Fields:me},methods:{handleRemoveCall:function(){if(!confirm("Do you really want to delete this?"))return!1;this.onRemove()}}},he=pe,fe=Object(Yt["a"])(he,$t,Nt,!1,null,null,null),ve=fe.exports,be=n("b76a"),ge=n.n(be),ye={props:["originalItems"],computed:{draggables:{get:function(){return this.Items},set:function(t){this.resetRefresh(t)}},sourceErrors:function(){var t=this.getState().lists[this.lid].errors;return t?this.Items.map((function(e){return t[Object(b["g"])(e)]})):[]}},watch:{originalItems:function(t,e){this.COMMIT("REMOVE_STREAM_ERRORS",this.lid)}},methods:{autoChildList:function(t){var e=this.getSourceOptions(t),n=e.fields,i=e.select_key,s=e.type,a=V([Object(h["a"])(Object(h["a"])({},Object(b["c"])(n)),{},{entity:"Auto",dynamic:1})],i);return a.list.is_leaf="item"===s,a},addChildList:function(t,e,n,i){var s,a=Object(b["l"])();return t[a]=this.autoChildList(e),t[this.lid].list=Object(h["a"])(Object(h["a"])({},t[this.lid].list),n),t[this.lid].child_list=a,t[this.lid].stream.sources=i,{upsert:(s={},Object(p["a"])(s,a,t[a]),Object(p["a"])(s,this.lid,t[this.lid]),s),lid:a}},removeSourceWithChild:function(t){var e=t[this.lid].child_list;return t[this.lid].child_list=null,t[this.lid].stream.sources=[],{upsert:Object(p["a"])({},this.lid,t[this.lid]),remove:[e]}},updatesForPage:function(t){var e,n=Object(C["a"])(t[this.lid].items);try{for(n.s();!(e=n.n()).done;){var i=e.value;Object(u["b"])(t,i.child_list)}}catch(s){n.e(s)}finally{n.f()}return t[this.lid]=V(),{lists:kt(t),root:this.$store.state[this.storekey].panes[this.$store.state[this.storekey].panes.rootLid].list_id}}}},_e={mixins:[y["a"],v["f"],N["a"],ye,Vt],inject:{getPane:{type:Function,required:!0},loadMeta:{type:Function,required:!0},mergeListList:{type:Function,required:!0}},props:{lid:{type:String,required:!0},pid:{type:String,required:!0},defaultSourceType:{required:!0}},components:{StreamSource:ve,Draggable:ge.a},data:function(){return{selectedSourceType:0}},watch:{lid:function(){this.selectedSourceType=0,this.resetEditor()}},computed:{sourceOptionTitles:function(){for(var t=Object.values(Object.entries(this.sourceOptions).sort((function(t,e){return t[1].title>e[1].title?1:-1})).reduce((function(t,e){var n=Object(x["a"])(e,2),i=n[0],s=n[1],a=i.split("--")[0];return t[a]||(t[a]=[]),t[a].push([s.title,i]),t}),{})),e=[["Show...",0]],n=0,i=t;n<i.length;n++){var s=i[n];e.push.apply(e,[["---",-1]].concat(Object(E["a"])(s)))}return e},allSourceOptions:function(){var t=this;return M.reduce((function(e,n){return Object.assign(e,Object(p["a"])({},t.usource(n.fields),n))}),{})},sourceOptions:function(){var t=this.sourceType,e=this.allSourceOptions;if(!t)return e;for(var n={},i=0,s=Object.entries(e);i<s.length;i++){var a=Object(x["a"])(s[i],2),l=a[0],o=a[1];o.type===t&&(n[l]=o)}return n},editorSource:function(){return this.allSourceOptions[this.selectedSourceType]},sourceType:function(){return this.Items.length?this.getSourceType(this.Items[0]):this.defaultSourceType},allowMultiple:function(){if(!this.Items.length)return!0;var t=Object(x["a"])(this.Items,1),e=t[0],n=e.dynamic,i=e.edge;return!n&&!i.startsWith("profile")&&this.cs_pro}},methods:{usource:function(t){return"".concat(t.source," - ").concat(t.edge)},getSourceType:function(t){return this.allSourceOptions[this.usource(t)].type},getSourceOptions:function(t){return this.allSourceOptions[this.usource(t)]},addSource:function(t){this.selectedSourceType&&(this.resetEditor(),this.addItem())},getDummyItem:function(){return this.selectedSourceType?this.sourceOptions[this.selectedSourceType].fields:null},changeProfileChildren:function(t,e,n){for(var i={},s=this.getState(),a=xt({lists:s.lists[this.lid].items.reduce((function(t,e){return Object.assign(t,Object(p["a"])({},e.child_list,s.lists[e.child_list]))}),{})}),l=0,o=Object.entries(a);l<o.length;l++){var c=Object(x["a"])(o[l],2),r=c[0],u=c[1],d=u.stream;if(d.sources&&1===d.sources.length){var m,f=d.sources[0],v=Object(C["a"])(t);try{for(v.s();!(m=v.n()).done;){var b=m.value;f.source===b[1][0].source&&f.edge===b[1][0].edge&&f.entity===n.entity&&(d.sources=[Object(h["a"])(Object(h["a"])({},f),{},{entity:e.entity})],i[r]=u)}}catch(g){v.e(g)}finally{v.f()}}}return i},enrichProfileChild:function(t,e){var n=e.edge.endsWith("--shortcode")||e.edge.endsWith("--url-parameter")?"__AUTO_STREAM__":e.entity;return t[1][0].entity=n,t},addPage:function(t,e,n){var i=this,s=Object(b["c"])(t),a=Object(b["c"])(this.allSourceOptions[this.usource(t)].children).map((function(t){return i.enrichProfileChild(t,s)})),l=this.getState();if(l.lists[this.lid].items.length){var o=xt({lists:Object(p["a"])({},this.lid,l.lists[this.lid])}),c=this.changeProfileChildren(a,t,e);o[this.lid].stream.meta=t,this.updateStreams({upsert:Object(h["a"])(Object(h["a"])({},o),c)}).then((function(e){if(e){for(var n in i.COMMIT("CHANGE_STREAM_META",{lid:i.lid,meta:t}),c)i.COMMIT("CHANGE_STREAM_SOURCES",{sources:c[n].stream.sources,lid:n});i.loadMeta({d:{lid:i.pid}});var s=l.panes[i.pid].clid;c[l.panes[s].list_id]&&i.CallLoadPage(s)}})).catch((function(t){return console.log(t)}))}else{var r=wt(l.panes,xt(l),this.pid,s,a,this.autoChildList,this.getSourceOptions),u=r.lists,d=r.root,m=r.list_id,f=r.clids,v=r.itemsList,g=r.streams_list;u[m].list=Object(h["a"])(Object(h["a"])({},u[m].list),{},{select_key:n,is_leaf:!1}),this.changeStreams(u,d).then((function(t){t&&(i.COMMIT("UPDATE_LIST_LIST",{lid:i.lid,pid:i.pid,list:{select_key:n,is_leaf:!1}}),i.DISPATCH("ADD_GROUPS",{lid:i.pid,list_id:m,clids:f,itemsList:v,streams_list:g}))})).catch((function(t){return console.log(t)}))}},saveItem:function(t,e,n,i){var s=this,a=Object(N["c"])(this.Items,e,t),l=this.getState(),o=this.allSourceOptions[this.usource(t)],c=o.type,r=o.content,u=o.source,d=o.select_key,m="item"===c;if(i)return this["profile"===c?"loadMeta":"refreshItems"]({d:this.prepareArgs(!1,this.getPane(this.pid).list),force_refresh:e});if("profile"===c)return this.addPage(t,n,d);if("collection"===r)if(l.lists[this.lid].child_list)this.resetRefresh(a);else{var p=this.addChildList(xt(l),u,{select_key:d,is_leaf:m},a),h=p.upsert,f=p.lid;this.updateStreams({upsert:h}).then((function(t){t&&(s.COMMIT("SET_LIST",{lid:f,list:s.autoChildList(u)}),s.COMMIT("UPDATE_LIST",{lid:s.lid,list:{child_list:f}}),s.COMMIT("UPDATE_LIST_LIST",{lid:s.lid,pid:s.pid,list:{select_key:d,is_leaf:m}}),s.COMMIT("CHANGE_STREAM_SOURCES",{sources:a,lid:s.lid}),s.CallLoadPage())})).catch((function(t){console.log(t)}))}else{var v=l.lists[this.lid].list;v.select_key!==d||v.is_leaf!==m?this.mergeListList(this.lid,{select_key:d,is_leaf:m}).then((function(t){t&&(s.COMMIT("UPDATE_LIST_LIST",{lid:s.lid,pid:s.pid,list:{select_key:d,is_leaf:m}}),s.resetRefresh(a))})).catch((function(t){console.log(t)})):this.resetRefresh(a)}},removeItem:function(t){var e=this,n=Object(N["d"])(this.Items,t),i=this.$store.state[this.storekey];if(1===this.Items.length){var s=this.allSourceOptions[this.usource(this.Items[0])],a=s.content,l=s.type;if("collection"===a){var o=this.removeSourceWithChild(xt(i));this.updateStreams(o).then((function(t){if(t){var s=i.lists[e.lid].child_list;e.COMMIT("DELETE_CHAIN",{start:e.pid,clear_self:!1}),e.COMMIT("FREE_LID",s),e.COMMIT("UPDATE_LIST",{lid:e.lid,list:{child_list:null}}),e.resetRefresh(n)}})).catch((function(t){return console.log(t)}))}else if("profile"===l){var c=this.updatesForPage(xt(i)),r=c.lists,u=c.root;this.changeStreams(r,u).then((function(t){if(t){var n,s=Object(C["a"])(i.lists[e.lid].items);try{for(s.s();!(n=s.n()).done;){var a=n.value;e.COMMIT("CLEAR_LIST",a.child_list)}}catch(l){s.e(l)}finally{s.f()}e.COMMIT("SET_LIST",{lid:e.lid,list:V()}),e.COMMIT("DELETE_CHAIN",{start:e.pid,clear_self:!1})}})).catch((function(t){return console.log(t)}))}else this.resetRefresh(n)}else this.resetRefresh(n)},CallLoadPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getPane(t||this.pid);this.COMMIT("REMOVE_STREAM_ERRORS",e.list_id),this.resetEditor(),this.loadPage({d:this.prepareArgs(!1,e.list)})},CallRefreshItems:function(){this.COMMIT("REMOVE_STREAM_ERRORS",this.lid),this.refreshItems({d:this.prepareArgs(!1,this.getPane(this.pid).list)})},resetRefresh:function(t){this.COMMIT("CHANGE_STREAM_SOURCES",{sources:t,lid:this.lid}),this.resetEditor(),this.CallRefreshItems()}}},Se=_e,Oe=Object(Yt["a"])(Se,Rt,Dt,!1,null,null,null),Ce=Oe.exports,Ee={mixins:[y["a"],Vt],props:{lid:{type:String,required:!0},list:{type:Object,required:!0},pane:{type:Object,required:!0}},components:{"stream-sources":Ce},data:function(){return{sourceList:Object(f["b"])({select_key:"hash"})}},methods:{getSources:function(){return this.list.stream.meta?[this.list.stream.meta]:this.list.stream.sources},getOriginalSources:function(){return this.list.stream.meta?this.list.stream.meta:this.list.stream.sources},addGroup:function(){var t=this,e=this.getState(),n=xt(e),i=It(e.panes,n,this.lid),s=i.lists,a=i.list_id,l=i.itemsList,o=i.root;this.changeStreams(s,o).then((function(e){e&&t.DISPATCH("ADD_GROUP",{clid:t.lid,list_id:a,itemsList:l})})).catch((function(t){console.log(t)}))}}},je=Ee,xe=Object(Yt["a"])(je,ht,ft,!1,null,null,null),Ie=xe.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box pa-none bra-sm clipped"},[n("div",{staticClass:"pa-sm pl-normal pr-normal bg-secondary tw-semibold h6 color-shadea3 d-flex jc-between ai-center cursor-pointer opacity-075",on:{click:t.toggleOpen}},[t._v(" Settings "),n("fa",{attrs:{icon:t.panelIcon}})],1),n("div",{staticClass:"pa-normal",class:{"d-none":!t.open}},[n("form",{on:{submit:t.onSubmit}},[n("Editor",{attrs:{eid:"esm-stream",peid:"null"}}),n("div",{staticClass:"mt-normal buttons"},[n("button",{staticClass:"button primary"},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"check"}}),t._v("Save")],1),n("button",{staticClass:"button",on:{click:t.onReset}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"undo"}}),t._v("Cancel")],1)])],1)])])},we=[],ke={data:function(){return{open:!0}},computed:{panelIcon:function(){return this.open?"angle-up":"angle-down"}},methods:{toggleOpen:function(){this.open=!this.open}}},Ae=ke,Pe=Object(Yt["a"])(Ae,vt,bt,!1,null,null,null),Le=Pe.exports,Me=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return(t.local[e]||computerNotDefined(e)).apply(void 0,i)},Re={TextInput:se,SelectInput:oe,RichSelectInput:ce,SwitchInput:ae},De={mixins:[y["a"],Ft,F["b"]],inject:{conditionals:{type:Object,required:!0},hasComments:{type:Function,required:!0}},components:Object(h["a"])({},Re),methods:{getElement:function(t){return Ct[t]},GroupInput:function(t,e){if(t.depends){var n=b["a"].process(t.depends.rule,t.depends.key?Object(b["e"])({local:this},t.depends.key):Me({local:this},t.depends.compute));if(!n)return null}return this.createElementWithProps(t,e)},fieldValueFromDependency:function(t){var e=t.v;return this.getFieldValue(e)},Input:function(t,e){return this.createElement(Object(h["a"])(Object(h["a"])({},t),{},{props:t.config}),e)}}},Ve={mixins:[y["a"],F["b"],De],components:{GroupInput:{name:"GroupInput",mixins:[De]}}},$e={inject:["getList","getPane","getPaneList","COMMIT","updateStreamOptions"],mixins:[y["a"],Wt,Le],props:["lid"],provide:function(){return{hasComments:this.hasComments,conditionals:this.conditionals}},data:function(){return{realtime:0,open:!1}},computed:{edit:function(){return this.getEditorData()},conditionals:function(){return{pagination:!this.edit.list.open}}},components:{Editor:Ve},methods:{getSource:function(){return this.edit},hasComments:function(){var t=this.getPaneList(this.lid),e=t.list,n=t.stream;if(!n.sources||!n.sources.length)return!1;var i=n.sources[0];return!!(e.is_leaf||"facebook"===i.source&&"albums"===i.edge)||void 0},getEditorData:function(){var t=this.getPaneList(this.lid),e=t.list,n=t.config,i=t.comments;return{list:e,config:n,comments:{list:i.list,config:i.config}}},updateList:function(t,e,n,i){this.COMMIT("UPDATE_LIST",{lid:t,list:n}),this.COMMIT("UPDATE_LIST_LIST",{lid:t,pid:i,list:e})},submit:function(t){var e=this,n=this.getPane(this.lid).list_id,i=this.getList(n),s=i.comments,a=i.is_dynamic;this.updateStreamOptions({lid:a||n,list:t}).then((function(i){if(i){var l=[n,t.list,{config:t.config,comments:Object(h["a"])(Object(h["a"])({},s),{},{list:t.comments.list,config:t.comments.config})},e.lid];e.COMMIT("DELETE_CHAIN",{start:e.lid,clear_self:!1}),e.updateList.apply(e,l),a&&e.updateList.apply(e,[a].concat(Object(E["a"])(l.slice(1,-1)))),e.COMMIT("SET_PANE_CHILDREN",{lid:e.lid,children:t.list.multiple?{}:null})}})).catch((function(t){return console.log(t)}))},reset:function(t){console.log(t)}}},Ne=$e,Fe=Object(Yt["a"])(Ne,Te,we,!1,null,null,null),qe=Fe.exports,He={mixins:[Ie,Le],components:{StreamOptionsEditor:qe},data:function(){var t=this.getSources();return{open:t&&!t.length}},computed:{defaultSourceType:function(){return this.list.list.open?"item":null},allowTabs:function(){return this.list.is_dynamic||this.list.list.open,!1}}},Ge=He,ze=Object(Yt["a"])(Ge,Lt,Mt,!1,null,null,null),Be=ze.exports,Ue={methods:{StreamEditor:function(t,e){var n=this.lid,i=this.pane,s=this.list;return this.createElementWithProps(t,{lid:n,pane:i,list:s},e)}}},We={mixins:[Ue],components:{StreamEditor:Be}},Je=We,Ze=Object(Yt["a"])(Je,gt,yt,!1,null,null,null),Ke=Ze.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tabs tw-semibold lightlist d-flex"},[n("Draggable",{on:{start:function(e){t.dragging=!0},end:function(e){t.dragging=!1}},model:{value:t.draggables,callback:function(e){t.draggables=e},expression:"draggables"}},t._l(t.Items,(function(e,i){return n("div",{staticClass:"tab d-flex ai-center",class:{active:t.itemProps[i].is_selected},staticStyle:{cursor:"move"}},[t.itemProps[i].is_selected?n("group-item",{attrs:{item:e,index:i},on:{"save-item":t.saveItem,"remove-item":t.removeItem,"cancel-edit":t.cancelEdit}}):n("div",{on:{click:function(e){return t.onItemSelect(e,t.itemProps[i])}}},[t._v(t._s(e.name))])],1)})),0),n("div",{staticClass:"tab d-flex ai-center",on:{click:t.addItem}},[t._v("+Add New")])],1)])},Xe=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"small-text d-none"},[n("code",[t._v(t._s(t.item.id)+" - "+t._s(t.item.child_list))])]),n("div",{staticClass:"d-inline-flex"},[n("text-input",t._b({},"text-input",t.schema.name,!1)),n("div",{staticClass:"attached ml-xs"},[n("button",{staticClass:"button primary",attrs:{title:"Save"},on:{click:t.onSubmit}},[n("fa",{attrs:{icon:"check"}})],1),n("button",{staticClass:"button error",attrs:{title:"Delete"},on:{click:t.onRemove}},[n("fa",{attrs:{icon:"times"}})],1)])],1)])},tn=[],en={mixins:[y["a"],Wt,N["b"]],data:function(){return{schema:{name:{path:"name",type:"text"}}}},components:{"text-input":{mixins:[y["a"],Gt],template:'\n\t\t\t\t<div>\n\t\t\t\t\t<input :type="type" :value="value" @input="onChange" @blur="validate" class="input" placeholder="Enter..."/>\n\t\t\t\t</div>\n\t\t\t'}}},nn=en,sn=Object(Yt["a"])(nn,Qe,tn,!1,null,null,null),an=sn.exports,ln={mixins:[y["a"],N["a"]],inject:{updateStreams:{type:Function,required:!0},changeStreams:{type:Function,required:!0},getState:{type:Function,required:!0},COMMIT:{type:Function,required:!0},DISPATCH:{type:Function,required:!0}},components:{GroupItem:an,ListItems:pn},methods:{getDummyItem:function(){return{id:Object(b["l"])(),name:"New Group",child_list:null}},addItem:function(){var t,e=this,n=this.getState(),i=Object(b["l"])(),s=xt(n),a=n.panes[this.d.lid].list_id;s[i]=V(),s[a].items=Object(N["c"])(this.Items,-1,Object(h["a"])(Object(h["a"])({},this.getDummyItem()),{},{child_list:i}));var l=(t={},Object(p["a"])(t,a,s[a]),Object(p["a"])(t,i,s[i]),t);this.updateStreams({upsert:l}).then((function(t){t&&(e.COMMIT("SET_LIST",{lid:i,list:s[i]}),e.COMMIT("CHANGE_LIST_ITEMS",{lid:a,items:s[a].items}),e.$nextTick((function(){return e.handleItemSelect(Object(h["a"])(Object(h["a"])({},e.itemProps[e.Items.length-1]),{},{lid:e.d.lid}))})))})).catch((function(t){console.log(t)}))},removeItem:function(t){var e=this,n=this.getState(),i=xt(n),s=Tt(n.panes,i,{lid:this.d.lid,i:t}),a=s.lists,l=s.root;this.changeStreams(a,l).then((function(n){n&&e.DISPATCH("REMOVE_GROUP",{lid:e.d.lid,i:t})})).catch((function(t){return console.log(t)}))},saveItem:function(t,e){var n=this,i=this.getState(),s=i.panes[this.d.lid].list_id,a=xt({lists:Object(p["a"])({},s,i.lists[s])});a[s].items=Object(N["c"])(this.Items,e,t),this.updateStreams({upsert:Object(p["a"])({},s,a[s])}).then((function(t){t&&(n.COMMIT("CHANGE_LIST_ITEMS",{lid:s,items:a[s].items}),n.$nextTick((function(){return n.handleItemSelect(Object(h["a"])(Object(h["a"])({},n.itemProps[-1===e?n.Items.length-1:e]),{},{lid:n.d.lid}))})))})).catch((function(t){return console.log()}))},saveItems:function(t){var e=this,n=this.getState(),i=n.panes[this.d.lid].list_id,s=xt({lists:Object(p["a"])({},i,n.lists[i])});s[i].items=t,this.updateStreams({upsert:Object(p["a"])({},i,s[i])}).then((function(t){t&&e.COMMIT("CHANGE_LIST_ITEMS",{lid:i,items:s[i].items})})).catch((function(t){return console.log()}))}}},on=ln,cn=Object(Yt["a"])(on,_t,St,!1,null,null,null),rn=cn.exports,un={mixins:[v["b"],rn],components:{Draggable:{mixins:[y["a"],ge.a]}},computed:{draggables:{get:function(){return this.Items},set:function(t){this.saveItems(t)}}}},dn=un,mn=Object(Yt["a"])(dn,Ye,Xe,!1,null,null,null),pn=mn.exports,hn=n("b7e0"),fn=n("05a3"),vn=n("8305");vn["a"].LightLists.SimpleLightList.components.LightListItems=pn,vn["a"].Lists.Sequence&&(vn["a"].Lists.Sequence.components.ListItems.components.SimplePane=function(){return Promise.resolve().then(n.bind(null,"cfaf"))});var bn,gn,yn={mixins:[hn["a"]],props:{instance:{type:Object,required:!0},module:{type:String,default:function(){return"module-1"}}},provide:function(){return{updateStreams:this.updateStreams,changeStreams:this.changeStreams,mergeListList:this.mergeListList,updateStreamOptions:this.updateStreamOptions}},components:{SimplePane:{name:"SimplePane",mixins:[fn["a"].SimplePane,Ke]}},methods:{refreshItems:function(t){var e=this,n=t.d,i=t.force_refresh,s=this.prepareStream(n.lid),a=s.pane,l=s.stream;l.sources&&this.POST("/stream/update/",{app_id:this.instance.app.id,args:n,stream:l,lid:a.list_id,refresh:i}).then((function(t){t.errors&&e.COMMIT("ADD_STREAM_ERRORS",{lid:a.list_id,errors:t.errors}),e.COMMIT("CHANGE_LIST_META",{lid:a.list_id,meta:t.meta}),e.COMMIT("CHANGE_LIST_ITEMS",{lid:a.list_id,items:t.items}),e.COMMIT("UPDATE_PAGINATION",{lid:n.lid,pagination:t.meta.pagination}),e.checkPreload(a,n.lid,t,n)})).catch((function(t){return console.log(t)}))},updateStreams:function(t){return this.POST("/lists/update/",{app_id:this.instance.app.id,lists:t})},changeStreams:function(t,e){return this.POST("/lists/change/",{app_id:this.instance.app.id,lists:{lists:t,root:e}})},mergeListList:function(t,e){return this.POST("/lists/merge-list/",{app_id:this.instance.app.id,data:{lid:t,list:e}})},updateStreamOptions:function(t){return this.POST("/stream/update-options/",{app_id:this.instance.app.id,data:t})}}},_n=yn,Sn=Object(Yt["a"])(_n,bn,gn,!1,null,null,null),On=Sn.exports,Cn={},En={mixins:[y["a"],g["a"]],props:{item:{type:Object,required:!0},index:{type:Number,required:!0},shortcode:{type:String,required:!0}},inject:{SchemaChanger:{type:Object,required:!0},coApps:{type:Function,required:!0}},components:Object(h["a"])({Explorer:On},Cn),created:function(){this.SchemaChanger.setApp(this.coApps(this.item),this)},computed:{instance:function(){return this.coApps(this.item)},state:function(){return this.$store.state.emodule},Views:function(){return Et}},beforeDestroy:function(){this.SchemaChanger.cleanup()}},jn=En,xn=Object(Yt["a"])(jn,At,Pt,!1,null,null,null),In=xn.exports,Tn=function(t){return t?[{open:!0,multiple:!0,pagination:{per_page:111},viewer:{mode:0,preload:-2}},{List:"simple-list"}]:[]},wn=function(t){var e=Object(b["l"])(),n=Object(p["a"])({},e,V.apply(void 0,[[],"external_id"].concat(Object(E["a"])(Tn(t)))));return{root:e,lists:n}},kn=function(t){return t&&t.edge.endsWith("--shortcode")?"".concat(t.entity,'=""'):""},An={mixins:[y["a"],v["f"],N["a"],g["a"]],inject:["SchemaChanger"],components:{Loading:_["a"],AppEditor:In},computed:{Config:function(){return I["a"]}},methods:{appShortcode:function(t){var e,n=t.id,i=t.value.lists.lists,s=['app="'.concat(n,'"')],a=Object(C["a"])(Object.values(i).filter(Boolean));try{for(a.s();!(e=a.n()).done;){var l=e.value,o=l.stream,c=o.meta,r=o.sources;c&&s.push(kn(c)),r&&s.push.apply(s,Object(E["a"])(r.map(kn).filter(Boolean)))}}catch(u){a.e(u)}finally{a.f()}return"[curator-studio-".concat(I["a"].platform," ").concat(s.join(" "),"]")},getDummyItem:function(){return{id:null,name:""}},addApp:function(t,e){var n=this,i={name:"App - ".concat(Object(b["l"])()),lists:wn(e),theme:Object(h["a"])({meta:{name:"First Theme"}},Object(a["h"])(s["a"])),dom:z(jt)};this.POST("/apps/create/",{data:{app:i,versions:I["a"].versions}}).then((function(t){n.addItem({id:t.app,name:i.name,type:"app",version:I["a"].versions.app||null,value:{theme:t.theme,dom:t.dom,lists:i.lists}},"Apps"),n.addItem({id:t.theme,name:i.theme.name,type:"theme",version:I["a"].versions.theme||null,value:i.theme},"Themes"),n.addItem({id:t.dom,name:null,type:"dom",version:I["a"].versions.dom||null,value:i.dom},"Doms")})).catch((function(t){console.log(t)}))},addItem:function(t,e){var n=this;this.$emit("save-item",t,e),this.$nextTick((function(){n.editItem(n.Items.length-1)}))},saveItem:function(t,e){},removeItem:function(t){var e=this;if(!confirm("Do you really want to delete this?"))return!1;var n=this.Items[t];this.POST("/apps/remove/",{app_id:n.id}).then((function(t){e.$emit("remove-item",n,"Apps")})).catch((function(t){return console.error(t)}))},cancelEdit:function(){this.SchemaChanger.cancel();var t=this.$store.state.emodule,e=t.lists,n=t.panes;this.$emit("change-lists",this.editor.item.id,{lists:Object.entries(e).reduce((function(t,e){return e[1]&&!e[1].is_dynamic?Object.assign(t,Object(p["a"])({},e[0],e[1])):t}),{}),root:n[n.rootLid].list_id}),this.resetEditor()},updateName:function(t){this.POST("/apps/update-name/",{app_id:t.id,data:t.name}).then((function(t){})).catch((function(t){return console.error(t)}))}},watch:{Items:function(){}}},Pn=An,Ln=Object(Yt["a"])(Pn,S,O,!1,null,null,null),Mn=Ln.exports,Rn=new i["default"]({data:function(){return{App:null,Evue:null,Selected:{},View:"main"}},created:function(){this.Root=null,this.Backups=null,this.Elements=jt,this.setPristine(),this.Sheet=r["a"].createStyleSheet().sheet},computed:{ElementOptions:function(){return Object(b["f"])(Object.values(this.App.dom).filter((function(t){return t.type&&t.type!==t.component})),"type")},Element:function(){return this.App.dom[this.Selected.eid]||null},AppLists:function(){return this.Evue&&this.Evue.state?Object.entries(this.Evue.state.lists).filter((function(t){return t[1]})):[]},ElementSelectables:function(){return this.ElementOptions[this.Element.type]},ElementHasSchema:function(){return this.Elements[this.Element.key].schema},ElementHasESchema:function(){return this.Elements[this.Element.key].eschema},ThemeValue:function(){return this.Root.Editor.Themes[this.App.app.value.theme].value}},watch:{AppLists:function(t,e){this.listsChanged(t)}},methods:{setPristine:function(){this.Dirty={Lists:{},Elements:{}}},setRootVue:function(t){this.Root=t},setApp:function(t,e){this.App=t,this.Evue=e,this.createBackup()},listsChanged:function(t){if(!this.Backups)return!1;var e,n=t.map((function(t){return t[0]})),i=Object(C["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=Object(x["a"])(e.value,2),a=s[0],l=s[1];l.is_dynamic||this.Backups.lists[a]||(this.Backups.lists[a]=Object(b["c"])(l.components))}}catch(c){i.e(c)}finally{i.f()}for(var o in this.Backups.lists)n.includes(o)||(delete this.Backups.lists[o],delete this.Dirty.Lists[o],this.Selected.lid===o&&this.deSelectElement())},createBackup:function(){var t=this.App,e=t.dom,n=t.theme,i=t.app,s=Object.entries(i.value.lists.lists).reduce((function(t,e){return Object.assign(t,Object(p["a"])({},e[0],Object(b["c"])(e[1].components)))}),{});this.Backups={dom:Object(b["c"])(e),theme:Object(b["c"])(n),lists:s}},selectElement:function(t){this.Selected=Object(h["a"])(Object(h["a"])({},this.Selected),t),this.Root.$store.commit("SELECT_ELEMENT",t.eid)},deSelectElement:function(){this.Selected={},this.Root.$store.commit("SELECT_ELEMENT",null)},unSelectElement:function(){this.Selected.eid=null,this.Root.$store.commit("SELECT_ELEMENT",null)},setDirtyElement:function(t){this.Dirty.Elements[t||this.Selected.eid]=!0},getGlobalTypedComponent:function(t,e){return this.App.dom[t].components[e]},changeElement:function(t){this.Selected.cid?(this.setDirtyElement(this.Selected.cid),this.App.dom[this.Selected.cid].components[this.Element.type]=t):(this.Dirty.Lists[this.Selected.lid]=!0,this.Root.$store.commit("emodule/CHANGE_LIST_COMPONENT",{lid:this.Selected.lid,component:this.Element.type,eid:t}))},reset:function(){this.App=null,this.Evue=null,this.Backups=null,this.Selected={},this.setPristine(),this.deSelectElement(),this.View="main"},cleanup:function(){this.reset()},cancel:function(){for(var t in this.Dirty.Lists)this.Root.$store.commit("emodule/CHANGE_LIST_COMPONENTS",{lid:t,components:Object(b["c"])(this.Backups.lists[t])});for(var e in this.Dirty.Elements)this.App.dom[e]=Object(b["c"])(this.Backups.dom[e]);this.Dirty.Theme&&(this.App.theme=Object(b["c"])(this.Backups.theme),this.Root.Editor.Themes[this.App.app.value.theme].value=this.App.theme),this.setPristine(),this.deSelectElement()},save:function(){var t=this;return{lists:Object.keys(this.Dirty.Lists).reduce((function(e,n){return Object.assign(e,Object(p["a"])({},n,t.Evue.state.lists[n].components))}),{}),dom:Object.keys(this.Dirty.Elements).reduce((function(e,n){return Object.assign(e,Object(p["a"])({},n,t.App.dom[n]))}),{}),theme:this.Dirty.Theme?this.App.theme:null}}}}),Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.SchemaChanger.App?n("div",{staticClass:"relative"},[t.loading?n("Loading"):t._e(),n("div",{staticClass:"box"},[n("div",{staticClass:"attached d-flex mb-sm tw-semibold"},[n("button",{staticClass:"button fg-1",class:{primary:this.isActiveTab(0)},on:{click:function(e){return t.activateTab(0)}}},[t._v("Elements")]),n("button",{staticClass:"button fg-1",class:{primary:this.isActiveTab(1)},on:{click:function(e){return t.activateTab(1)}}},[t._v("Theme")])]),n("form",{staticClass:"has-inline-inputs pt-sm",on:{submit:t.submit}},[t.isActiveTab(0)?[t.SchemaChanger.Evue.state?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editable,expression:"!editable"}],staticClass:"box pa-none"},t._l(t.views,(function(e){return n("div",{staticStyle:{"margin-bottom":"1px"}},[n("div",{staticClass:"bg-secondary color-shadea4 pa-xs pl-sm cursor-pointer",on:{click:function(n){t.SchemaChanger.View=e.value}}},[n("fa",{attrs:{icon:t.SchemaChanger.View===e.value?"angle-up":"angle-down"}}),t._v(" "+t._s(e.name)+" ")],1),t.SchemaChanger.View===e.value?n("div",{staticClass:"overflow-auto pl-sm pr-sm"},[n("ElementTree",{attrs:{view:e.value}})],1):t._e()])})),0):t._e(),t.editable?n("div",[n("div",[n("button",{staticClass:"button small mb-normal",on:{click:t.closeElementEditor}},[n("fa",{staticStyle:{"margin-right":".5em"},attrs:{icon:"angle-left"}}),t._v(" Elements ")],1)]),n("div",{staticClass:"seditor"},[t.Element.type?n("label",{staticClass:"h5 mb-sm"},[n("span",{staticClass:"label"},[t._v("Component")]),n("span",{staticClass:"select"},[n("select",{on:{change:function(e){return t.onElementChange(e)}}},t._l(t.selectableElements,(function(e){return n("option",{domProps:{value:e.key,selected:e.key===t.selected}},[t._v(t._s(e.name))])})),0)])]):t._e(),t.SchemaChanger.ElementHasSchema?n("Config",t._b({},"Config",t.configProps(),!1)):t._e(),t.SchemaChanger.ElementHasESchema?n("ClassEditor",t._b({},"ClassEditor",t.eschemaProps(),!1)):t._e()],1)]):t._e()]:t._e(),t.isActiveTab(1)?n("div",{staticClass:"seditor"},[n("Theme",{attrs:{selected:t.selected,eid:"esm-theme",peid:"null"}})],1):t._e(),n("div",[n("div",{staticClass:"mt-md attached buttons"},[n("button",{staticClass:"button primary small",on:{click:t.submit}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"check"}}),t._v("Save")],1),n("button",{staticClass:"button small",on:{click:t.cancel}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"undo"}}),t._v("Cancel")],1)])])],2)])],1):t._e()},Vn=[],$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative"},[n("div",{staticClass:"d-flex ai-center"},[n("span",{staticClass:"label mr-sm mb-none"},[t._v(t._s(t.label))]),"auto"!==t.value?n("div",{staticClass:"cursor-pointer ba-1 mr-normal",staticStyle:{width:"3em",height:"1.5em"},style:{background:t.value},on:{click:t.togglePicker,blur:t.hidePicker}}):t._e(),t.autoable?n("label",{staticClass:"d-flex ai-center"},[n("input",{staticClass:"mr-xs",attrs:{type:"checkbox"},domProps:{checked:"auto"===t.value},on:{change:t.changeAuto}}),t._v(" Auto ")]):t._e()]),t.picker?n("Chrome",{staticClass:"box absolute",staticStyle:{top:"1.85em","z-index":"100"},attrs:{value:t.value},on:{input:t.updateColor}}):t._e()],1)},Nn=[],Fn=n("c345"),qn={mixins:[y["a"],qt],props:{label:{type:String,required:!0},autoable:{type:Boolean,default:function(){return!1}}},data:function(){return{picker:!1}},components:{Chrome:Fn["Chrome"],SwitchInput:ae},methods:{togglePicker:function(t){t.stopPropagation(),this.picker=!this.picker},hidePicker:function(){this.picker=!1},updateColor:function(t){var e=t.hsl,n=e.h,i=e.s,s=e.l,a=e.a;this.changeValue("hsla(".concat(n,", ").concat(100*i,"%, ").concat(100*s,"%, ").concat(a,")"))},changeAuto:function(){this.hidePicker(),"auto"===this.value?this.changeValue("hsla(0, 0%, 100%, 1)"):this.changeValue("auto")}}},Hn=qn,Gn=Object(Yt["a"])(Hn,$n,Nn,!1,null,null,null),zn=Gn.exports,Bn={data:function(){return{activeTab:0}},methods:{activateTab:function(t){this.activeTab=t},isActiveTab:function(t){return this.activeTab===t}}},Un={mixins:[y["a"],Wt,F["b"]],props:["selected"],inject:{SchemaChanger:"SchemaChanger",Elements:{default:function(){return Ct}}},components:{TextInput:se,RichSelectInput:ce,SelectInput:oe,SwitchInput:ae,ColorInput:zn},methods:{Input:function(t,e){return this.createElement(Object(h["a"])(Object(h["a"])({},t),{},{props:t.config}),e)}}},Wn={mixins:[Un],methods:{getSource:function(){return this.SchemaChanger.ThemeValue},setFieldValue:function(t,e){this.SchemaChanger.Dirty.Theme=!0,this.setPathValue(this.source,t,e)}}},Jn={mixins:[Un],methods:{getSource:function(){return this.SchemaChanger.Element.config},setFieldValue:function(t,e){this.SchemaChanger.setDirtyElement(),this.setPathValue(this.source,t,e)}}},Zn={mixins:[Jn],methods:{getSource:function(){return this.SchemaChanger.Element.eclasses}}},Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cs-element-editor"},[t.isMainView&&t.chain.parent?n("div",[n("button",{staticClass:"button mt-sm small",on:{click:function(e){return t.changePane(e,t.chain.parent)}}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"angle-up"}}),t._v(" Parent List")],1)]):t._e(),n("Element",{staticClass:"pl-none mt-sm mb-sm",staticStyle:{"user-select":"none"},attrs:{elem:t.elem,visible:!0,cid:t.cid}}),t.isMainView&&t.chain.child?n("div",[n("button",{staticClass:"button mb-sm small",on:{click:function(e){return t.changePane(e,t.chain.child)}}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"angle-down"}}),t._v(" Child List")],1)]):t._e()],1)},Yn=[],Xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"pl-sm":t.Element.name},attrs:{"data-name":t.Element.key}},[t.Element.name?n("div",{staticClass:"cursor-move d-flex jc-between ai-center color-primary-hover",staticStyle:{border:"1px solid rgba(0, 0, 0, .5)","margin-top":"-1px",padding:".15em .35em"},on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave}},[n("div",{staticClass:"d-inline-flex ai-center"},[n("fa",{staticStyle:{"margin-right":".35em",opacity:".7"},attrs:{icon:"arrows-alt"}}),n("span",{staticClass:"h6",staticStyle:{"font-weight":"400"}},[t._v(t._s(t.Element.name))]),n("span",{staticClass:"small-text bg-shadeb2 color-shadea3 pl-sm pr-sm ml-sm",staticStyle:{"font-weight":"400"}},[t._v(t._s(t.Element.type))])],1),n("div",[t.isEditable?n("span",{staticClass:"mr-sm lc-mr-none cursor-pointer opacity-075 opacity-1-hover",on:{click:function(e){return t.selectElementForEdit(t.Element,t.cid)}}},[n("fa",{attrs:{icon:"pen"}})],1):t._e(),t.isHideable?n("span",{staticClass:"mr-sm lc-mr-none cursor-pointer opacity-075 opacity-1-hover",on:{click:function(e){return t.toggleVisibility(t.pkey,t.Element.key)}}},[n("fa",{attrs:{icon:t.visible?"eye":"eye-slash"}})],1):t._e()])]):t._e(),t.Element.children?[!t.Element.name&&!t.Element.editable||t.hasConditionalChildren?[n("div",t._l(t.flatChildren(t.Element.children),(function(e){return n("Element",{key:e,attrs:{elem:t.Elements[e],pkey:t.Element.key,visible:t.isVisible(t.Element,e),cid:t.Cid}})})),1)]:[n("Draggable",{attrs:{list:t.SchemaChanger.App.dom[t.Element.key].children,move:t.checkMove}},t._l(t.elemChildren(t.Element),(function(e){return n("Element",{key:e,attrs:{elem:t.Elements[e],pkey:t.Element.key,visible:t.isVisible(t.Element,e),cid:t.Cid}})})),1)]]:t._e()],2)},Qn=[],ti=(n("6062"),{inject:["SchemaChanger","selectElementForEdit","getTypedElement"],name:"Element",props:{elem:{type:Object,required:!0},visible:{type:Boolean,default:function(){return!0}},pkey:{type:String},cid:{type:String}},mixins:[y["a"]],components:{Draggable:ge.a},computed:{Elements:function(){return this.SchemaChanger.Elements},Cid:function(){return this.Element.components?this.Element.eid:this.cid},Element:function(){return this.elem.type&&!this.elem.tag?this.getTypedElement(this.cid,this.elem.type):this.elem},isHideable:function(){return!1!==this.Element.hideable&&!this.Element.type},isEditable:function(){var t=this.Elements[this.elem.key],e=t.schema,n=t.eschema,i=t.type;return i||e||n},hasConditionalChildren:function(){return this.Element.children.some((function(t){return Array.isArray(t)}))}},methods:{flatChildren:function(t){var e;return this.hasConditionalChildren?(e=[]).concat.apply(e,Object(E["a"])(t.map((function(t){return Array.isArray(t)?[t[1],t[2]].filter(Boolean):t})))):t},elemChildren:function(t){var e=t.children,n=this.SchemaChanger.App.dom[t.key].children;return Object(E["a"])(new Set([].concat(Object(E["a"])(n),Object(E["a"])(e))))},checkMove:function(t,e){return this.SchemaChanger.setDirtyElement(this.Element.key),void 0!==t.draggedContext.element},isVisible:function(t,e){return this.SchemaChanger.App.dom[t.key].children.includes(e)},toggleVisibility:function(t,e){this.SchemaChanger.setDirtyElement(t);var n=this.SchemaChanger.App.dom[t].children;n.includes(e)?Object(b["j"])(n,e):n.push(e)},mouseEnter:function(t){this.SchemaChanger.Sheet.cssRules.length&&this.deleteRules();var e=this.cP(this.Element.key);this.SchemaChanger.Sheet.insertRule(".".concat(e,"{ position: relative; }"),0),this.SchemaChanger.Sheet.insertRule(".".concat(e,':before {\n\t\t\t\tborder: 1px solid blue; \n\t\t\t\tposition: absolute;  \n\t\t\t\tcontent: " "; \n\t\t\t\tz-index: 9999999;\n\t\t\t\ttop: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t}'),1)},deleteRules:function(){this.SchemaChanger.Sheet.deleteRule(0),this.SchemaChanger.Sheet.deleteRule(0)},mouseLeave:function(){this.deleteRules()}}}),ei=ti,ni=Object(Yt["a"])(ei,Xn,Qn,!1,null,null,null),ii=ni.exports,si={mixins:[y["a"]],inject:["SchemaChanger"],props:["view"],provide:function(){return{getTypedElement:this.getTypedElement,selectElementForEdit:this.selectElementForEdit}},watch:{"state.panes":function(t,e){t[this.activePid]||this.SchemaChanger.deSelectElement()}},computed:{isMainView:function(){return"main"===this.view},activeLid:function(){if(!this.isMainView)return null;if(this.SchemaChanger.Selected.lid)return this.SchemaChanger.Selected.lid;var t=this.state.panes;return t[t.rootLid].list_id},state:function(){return this.SchemaChanger.Evue.state},activePid:function(){return this.isMainView?this.SchemaChanger.Selected.pid?this.SchemaChanger.Selected.pid:this.state.panes.rootLid:null},chain:function(){return{parent:this.state.panes[this.activePid].parent,child:this.getAChildPaneId()}},elem:function(){return this.isMainView?this.state.lists[this.activeLid].list.open?this.SchemaChanger.Elements["list-item"]:this.getTypedElement(null,this.state.lists[this.activeLid].stream.sources?"List":"LightList"):this.SchemaChanger.Elements[this.view]},cid:function(){return this.activeLid?null:this.view}},components:{Element:ii},methods:{getTypedElement:function(t,e){var n=t?this.SchemaChanger.App.dom[t]:this.state.lists[this.activeLid],i=n.components;return this.SchemaChanger.Elements[i[e]]},selectElementForEdit:function(t,e){this.SchemaChanger.selectElement({lid:this.activeLid,pid:this.activePid,eid:t.eid,cid:e})},getAChildPaneId:function(){var t=this.state.panes[this.activePid],e=t.clid,n=t.children;return e||(n?Object.values(n)[0]:null)},changePane:function(t,e){t.preventDefault();var n=this.state.panes[e].list_id,i=this.state.lists[n].is_dynamic||n;this.SchemaChanger.Selected={eid:null,cid:null,lid:i,pid:e}}}},ai=si,li=Object(Yt["a"])(ai,Kn,Yn,!1,null,null,null),oi=li.exports,ci={mixins:[y["a"],Bn,g["a"]],inject:["SchemaChanger"],data:function(){return{activeTab:0,views:Et}},computed:{selected:function(){return this.$store.state.Element},Element:function(){return this.SchemaChanger.Element},selectableElements:function(){return this.SchemaChanger.ElementSelectables},editable:function(){return this.selected&&(this.selectableElements||this.SchemaChanger.ElementHasSchema||this.SchemaChanger.ElementHasESchema)}},components:{Loading:_["a"],Config:Jn,Theme:Wn,ClassEditor:Zn,ElementTree:oi},watch:{selected:function(){this.activateTab(0)}},methods:{onElementChange:function(t){this.SchemaChanger.selectElement({eid:t.target.value}),this.SchemaChanger.changeElement(t.target.value)},configProps:function(){return{eid:this.SchemaChanger.Elements[this.Element.key].schema,peid:null,selected:this.selected}},eschemaProps:function(){return{eid:"".concat(this.Element.key,"-eschema"),peid:null,selected:this.selected}},closeElementEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.preventDefault(),this.SchemaChanger.unSelectElement()},submit:function(t){var e=this;t.preventDefault(),this.POST("/apps/update-sub-apps/",{app_id:this.SchemaChanger.App.app.id,data:this.SchemaChanger.save()}).then((function(t){e.SchemaChanger.setPristine(),e.SchemaChanger.createBackup()})).catch((function(t){return console.error(t)}))},cancel:function(t){t.preventDefault(),this.SchemaChanger.cancel()}}},ri=ci,ui=Object(Yt["a"])(ri,Dn,Vn,!1,null,null,null),di=ui.exports,mi=n("e37d"),pi=n("b697"),hi=n.n(pi),fi=n("e811"),vi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box relative"},[t.loading?n("Loading"):t._e(),t.settings?n("form",{on:{submit:t.onSubmit}},[n("GroupInput",{attrs:{eid:"root",peid:null}}),n("div",{staticClass:"mt-normal attached buttons"},[n("button",{staticClass:"button primary small",on:{click:t.onSubmit}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"check"}}),t._v("Save")],1),n("button",{staticClass:"button small",on:{click:t.onReset}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"undo"}}),t._v("Cancel")],1)])],1):t._e(),n("div",{staticClass:"pt-normal mt-md bt-1 bc-shadea2"},[n("h3",{staticClass:"h4 mb-sm tw-semibold"},[t._v("Debug")]),n("div",{staticClass:"buttons"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:t.clearCache}},[t._v("Clear All Cache")]),n("a",{staticClass:"button error",attrs:{href:"#"},on:{click:t.deleteAllData}},[t._v("Delete All Data")])])])],1)},bi=[],gi={methods:{extraSchema:function(t){return t.root.children.unshift("root-0"),Object(h["a"])(Object(h["a"])({},t),{},{"root-0":{tag:"div",children:["root-0-0"]},"root-0-0":{tag:"TextInput",component:"Input",classes:["mb-normal"],config:{path:"creds.youtube.key",type:"text",label:"Enter API Key",tip:{content:'See <a href="https://curatorstudio.io/docs/create-youtube-api-key" target="_blank">instructions here</a> to create your own API Key at Google.'},validations:[{n:"onlyspace",not:!0,msg:"Cannot be empty"}]}}})}}},yi={},_i={mixins:[y["a"],g["a"],Wt,gi],data:function(){return{realtime:0}},provide:function(){return{Elements:this.schema}},computed:{schema:function(){return this.extraSchema({root:{tag:"div",children:["root-1","root-2"]},"root-1":{tag:"TextInput",component:"Input",config:{path:"cache_duration",type:"number",label:"Cache duration",tip:"How often should we check for new data? (In minutes)",validations:[{n:"min",v:5,msg:"Cannot be less than 5"}]}},"root-2":{tag:"SwitchInput",component:"Input",classes:["mt-normal","tw-semibold"],config:{path:"clean_on_uninstall",label:"",options:[{value:!0,label:"Delete data on uninstall"},{value:!1,label:"Delete data on uninstall"}]}}})},settings:function(){return this.$store.state.Settings}},components:{Loading:_["a"],GroupInput:{mixins:[y["a"],Ft,F["b"],yi],components:{TextInput:se,RichSelectInput:ce,SelectInput:oe,SwitchInput:ae},methods:{Input:function(t,e){return this.createElement(Object(h["a"])(Object(h["a"])({},t),{},{props:t.config}),e)}}}},methods:{getSource:function(){return this.settings},reset:function(t){this.$store.commit("SET_SETTINGS",t)},submit:function(t){var e=this;this.POST("/save-key-value/",{data:t,key:"settings"}).then((function(n){n&&e.$store.commit("SET_SETTINGS",t)})).catch((function(t){return console.log(t)}))},clearCache:function(t){t.preventDefault(),this.POST("/debug/",{action:"clear-cache"}).then((function(t){window.location.reload()})).catch((function(t){return console.log(t)}))},deleteAllData:function(t){t.preventDefault(),confirm("Are you sure you want to delete all data?")&&this.POST("/debug/",{action:"delete-data"}).then((function(t){window.location.reload()})).catch((function(t){return console.log(t)}))}}},Si=_i,Oi=Object(Yt["a"])(Si,vi,bi,!1,null,null,null),Ci=Oi.exports,Ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box relative"},[t.loading?n("Loading"):t._e(),t.data?n("form",{staticClass:"has-inline-inputs translations underlined-inputs",on:{submit:t.onSubmit}},[t._l(t.data,(function(e,i){return n("div",{staticClass:"mb-normal lc-mb-none"},[Object.values(e).length?n("div",[n("div",{staticClass:"h5 mb-xs tw-semibold"},[t._v(t._s(t.i18nLabel(i)))]),t._l(e,(function(e,s){return n("TextInput",t._b({staticClass:"mb-sm"},"TextInput",t.getProps(e,i,s),!1))}))],2):t._e()])})),n("div",{staticClass:"mt-md attached buttons"},[n("button",{staticClass:"button primary small",on:{click:t.onSubmit}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"check"}}),t._v("Save")],1),n("button",{staticClass:"button small",on:{click:t.onReset}},[n("fa",{class:t.cP("mr-sm"),attrs:{icon:"undo"}}),t._v("Cancel")],1)])],2):t._e()],1)},ji=[],xi=n("f025"),Ii={mixins:[y["a"],g["a"],Wt],data:function(){return{realtime:0}},computed:{data:function(){var t=this.$store.state,e=t.Settings,n=t.Translations;return e?n||xi["a"]:null}},components:{Loading:_["a"],TextInput:se},methods:{getSource:function(){return this.data},i18nLabel:function(t){return xi["b"][t].__label},getProps:function(t,e,n){var i=xi["b"][e];return{path:"".concat(e,".").concat(n),type:"text",label:Object(b["b"])(i[n]?i[n].label:Object(b["e"])(xi["a"],"".concat(e,".").concat(n))),tip:i[n]&&i[n].tip,validations:[{n:"onlyspace",not:!0,msg:"Cannot be empty"}]}},reset:function(t){this.$store.commit("SET_TRANSLATIONS",t)},submit:function(t){var e=this;this.POST("/save-key-value/",{data:t,key:"translations"}).then((function(n){n&&e.$store.commit("SET_TRANSLATIONS",t)})).catch((function(t){return console.log(t)}))}}},Ti=Ii,wi=Object(Yt["a"])(Ti,Ei,ji,!1,null,null,null),ki=wi.exports,Ai={tabs:[["Settings","Settings"],["Translations","Translations"]].concat(Object(E["a"])(nt["default"].tabs||[])),components:Object(h["a"])({Settings:Ci,Translations:ki},nt["default"].components)};i["default"].use(mi["a"]);var Pi=function(t,e){return t.reduce((function(t,n){return Object(h["a"])(Object(h["a"])({},t),{},Object(p["a"])({},n[e],n))}),Object.create(null))},Li={mixins:[y["a"],v["d"],g["a"],Bn],provide:function(){return{coApps:this.coApps,isEditor:!0,SchemaChanger:Rn}},data:function(){return{activeTab:0,Editor:{Apps:{},Themes:{},Doms:{}},d:Object(f["b"])({select_key:"id"})}},computed:{Apps:function(){return Object.values(this.Editor.Apps)},Tabs:function(){return Ai.tabs}},components:Object(h["a"])(Object(h["a"])({Loading:_["a"],AppList:Mn,StyleManager:di},Ai.components),{},{NotificationHolder:{template:'\n\t\t\t\t<div class="h4 d-flex jc-center">\n\t\t\t\t\t<notifications position="top center" width="auto"></notifications>\n\t\t\t\t</div>\n\t\t\t'}}),mounted:function(){var t=this;if(localStorage.getItem("editor"))return this.initApps(JSON.parse(localStorage.getItem("editor")));this.GET("/editor-data/").then((function(e){e.apps.length,t.initApps(e)})).catch((function(t){return console.log(t)}))},created:function(){Rn.setRootVue(this)},methods:{checkVersions:function(t){for(var e=this,n=[],i=0,s=Object.values(t.Doms);i<s.length;i++){for(var a=s[i],l=0,o=Object.values(a.value);l<o.length;l++){var c=o[l];Array.isArray(c.eclasses)&&(c.eclasses={})}if(hi()(a.version,I["a"].versions.dom,"<")){var r=fi["create"](),u=r.diff(z(jt),z(jt));r.patch(a.value,u),a.version=I["a"].versions.dom,n.push(a)}}n.length?this.POST("/apps/upgrade-sub-apps/",{data:n}).then((function(n){n&&e.setEditor(t)})).catch((function(t){return console.error(t)})):this.setEditor(t)},initApps:function(t){var e=t.apps,n=t.settings,i=t.translations,s=t.licenses;this.$store.commit("SET_SETTINGS",n),this.$store.commit("SET_TRANSLATIONS",i),this.$store.commit("SET_LICENSES",s),e.length||this.activateTab(1),this.checkVersions({Apps:Pi(e.filter((function(t){return"app"===t.type})),"id"),Themes:Pi(e.filter((function(t){return"theme"===t.type})),"id"),Doms:Pi(e.filter((function(t){return"dom"===t.type})),"id")})},setEditor:function(t){this.Editor=t},coApps:function(t){return{app:t,theme:this.Editor.Themes[t.value.theme].value,dom:this.Editor.Doms[t.value.dom].value}},saveApp:function(t,e){this.$set(this.Editor[e],t.id,t)},removeApp:function(t,e){this.$delete(this.Editor[e],t.id)},changeAppLists:function(t,e){this.Editor.Apps[t].value.lists=e}}},Mi=Li,Ri=Object(Yt["a"])(Mi,d,m,!1,null,null,null),Di=Ri.exports,Vi=(n("5319"),Object(s["b"])(s["a"])),$i=Vi.tones,Ni=Vi.radii,Fi="\n.tooltip{\n\tbackground: ".concat($i.shadeb3,";\n\tpadding: .5em;\n\tcolor: ").concat($i.shadea4,";\n\tborder-radius: ").concat(Ni.normal,"em;\n\tfont-family: Arial, sans-serif;\n\tletter-spacing: 1px;\n\tz-index: 100000;\n}\n\n.tooltip a{\n\tcolor: inherit;\n\ttext-decoration: underline;\n}\n\n.vue-notification-group{\n\ttop: 2em !important;\n}\n\n.vue-notification{\n\tfont-size: 1em;\n\tmargin-top: .2em;\n}\n\n$cp-cols--margin-none{\n\tmargin: 0 !important;\n}\n\n$cp-cols--margin-none > $cp-col{\n\tpadding-top: 1.35em !important;\n\tpadding-bottom: 1.35em !important;\n\tpadding-left: 0 !important;\n\tpadding-right: 4em !important;\n}\n\n$cp-cols--margin-none > $cp-col:first-child{\n}\n\n\n$cp-loading{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth:100%;\n\tz-index: 100;\n\tbackground: rgba(255, 255, 255, .75);\n}\n\n$cp-has-inline-inputs label{\n\tdisplay: flex;\n\talign-items: center;\n}\n\n$cp-has-inline-inputs $cp-label{\n\tdisplay: inline !important;\n\tmargin-right: .5em;\n\tmargin-bottom: 0 !important;\n}\n\n$cp-has-inline-inputs$cp-translations $cp-label{\n\tmargin-right: 1.5em;\n\tfont-weight: normal;\n}\n\n$cp-seditor{\n\tfont-size: .75em;\n\ttext-transform: uppercase;\n\tfont-weight: 300;\n}\n\n$cp-seditor $cp-label{\n\tfont-weight: 400;\n\twidth: 30%;\n}\n\n$cp-translations $cp-label{\n\tfont-weight: 400;\n\twidth: 10%;\n}\n\n\n$cp-seditor $cp-select select,\n$cp-stream-editor $cp-select select,\n$cp-underlined-inputs $cp-select select,\n$cp-stream-editor $cp-input,\n$cp-underlined-inputs $cp-input,\n$cp-seditor $cp-input {\n\theight:auto !important;\n\tborder-width: 0px !important;\n\tborder-bottom-width: 1px !important;\n\tpadding-left: 0 !important;\n}\n\n$cp-seditor $cp-input {\n\tline-height:1;\n}\n\n$cp-seditor $cp-input[type='number'] {\n    -moz-appearance:textfield;\n}\n\n$cp-seditor $cp-input::-webkit-outer-spin-button,\n$cp-seditor $cp-input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n}\n\n$cp-sed-group:not(:last-child){\n\tmargin-bottom:1.5em;\n}\n\n$cp-sed-field{\n\tmargin-bottom:.35em;\n}\n\n$cp-cs-element-editor div[data-name='simple-viewer__lightbox']{\n\tdisplay: none;\n}\n").replace(/\$cp/g,".".concat(I["a"].class_prefix)),qi=n("ee98"),Hi=n.n(qi);i["default"].config.productionTip=!1,i["default"].use(Hi.a);var Gi=new o["a"](Object(s["b"])(Object(a["i"])(Object(a["h"])(s["a"]),document.body)));Gi.createStyleClasses(c+Fi);var zi=r["a"].$("#cs-editor");new i["default"]({mixins:[y["a"],l["c"]],el:zi?"#cs-editor":"#app",components:{Editor:Di},template:'\n\t\t<div class="themespace-0">\n\t\t\t<div class="instance" id="instance-0">\n\t\t\t\t<div class="section">\n\t\t\t\t\t<div class="container is-fluid">\n\t\t\t\t\t\t<Editor :style="margin"></Editor>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t',computed:{margin:function(){return zi?"":"margin-left:150px"}},store:u["c"]});n.p=window.csvars?window.csvars["youtube"].public_path:n.p}});
//# sourceMappingURL=index.f152c482.js.map